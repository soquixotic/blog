{"version":3,"file":"static/js/407.8731d9ce.chunk.js","mappings":"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","sources":["pages/article-detail/repo.js","pages/article-detail/index.js","utils/format.js"],"sourcesContent":["export async function fetchArticle(id) {\n  const url = \"https://api.zymx.tech/article/get?id=\" + id;\n  const response = await fetch(url);\n  const result = await response.json();\n  return result;\n}\n","import { useSearchParams } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { fetchArticle } from \"./repo\";\nimport MarkdownIt from \"markdown-it\";\nimport { timeFormat } from \"../../utils/format\";\nimport { getUserInfo } from \"../../utils/user\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Spin } from \"antd\";\nimport \"./index.css\";\n\nconst mdParser = new MarkdownIt(/* Markdown-it options */);\n\nexport default function ArticleDetailPage() {\n  const [params] = useSearchParams();\n  const articleId = params.get(\"id\");\n  const [article, setArticle] = useState({});\n  const hasLoggedIn = getUserInfo().id !== undefined;\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await fetchArticle(articleId);\n      console.log(result);\n      if (result.code === 0) {\n        setArticle(result.data.article);\n      }\n    };\n    fetchData();\n  }, [articleId]);\n\n  const onEditClick = () => {\n    navigate(\"/ai-editor?id=\" + article.id);\n  };\n  if (article.id === undefined) {\n    return (\n      <div className=\"w-full h-48 flex items-center justify-center\">\n        <Spin />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col p-4 bg-white bg-opacity-90\">\n      <div className=\"text-2xl font-bold mb-4 mt-4\">{article.title}</div>\n      <div className=\"flex items-center\">\n        <div className=\"text-sm text-gray-500\">\n          {timeFormat(article.update_at)}\n        </div>\n        {hasLoggedIn && (\n          <div className=\"flex text-sm text-gray-300 ml-2\">\n            <div>|</div>\n            <div\n              className=\"text-sm text-gray-500 ml-2 hover:cursor-pointer select-none\"\n              onClick={onEditClick}\n            >\n              Edit\n            </div>\n          </div>\n        )}\n      </div>\n      <div className=\"bg-gray-200 rounded-lg p-4 text-gray-500 mt-4\">\n        {article.brief}\n      </div>\n\n      <div\n        className=\"overflow-hidden\"\n        dangerouslySetInnerHTML={{\n          __html: mdParser.render(article.content ?? \"\"),\n        }}\n      />\n    </div>\n  );\n}\n","export function timeFormat(timestamp) {\n  const date = new Date(timestamp * 1000);\n\n  const formattedDate = `${date.getFullYear()}-${(date.getMonth() + 1)\n    .toString()\n    .padStart(2, \"0\")}-${date.getDate().toString().padStart(2, \"0\")} ${date\n    .getHours()\n    .toString()\n    .padStart(2, \"0\")}:${date.getMinutes().toString().padStart(2, \"0\")}:${date\n    .getSeconds()\n    .toString()\n    .padStart(2, \"0\")}`;\n  return formattedDate;\n}\n"],"names":["fetchArticle","_x","_fetchArticle","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","id","url","response","result","wrap","_context","prev","next","fetch","sent","json","abrupt","stop","mdParser","MarkdownIt","ArticleDetailPage","_article$content","_useSearchParams","useSearchParams","articleId","_slicedToArray","get","_useState","useState","_useState2","article","setArticle","hasLoggedIn","undefined","getUserInfo","navigate","useNavigate","useEffect","fetchData","_ref","console","log","code","data","_jsx","className","children","Spin","_jsxs","title","timeFormat","update_at","onClick","brief","dangerouslySetInnerHTML","__html","render","content","timestamp","date","Date","concat","getFullYear","getMonth","toString","padStart","getDate","getHours","getMinutes","getSeconds"],"sourceRoot":""}