{"version":3,"file":"static/js/921.5f384ae9.chunk.js","mappings":"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","sources":["pages/ai-gen/repo.js","pages/ai-gen/index.js","utils/format.js","../node_modules/.pnpm/rc-util@5.38.0_react-dom@18.2.0+react@18.2.0/node_modules/rc-util/es/Dom/addEventListener.js","../node_modules/.pnpm/rc-util@5.38.0_react-dom@18.2.0+react@18.2.0/node_modules/rc-util/es/Dom/css.js"],"sourcesContent":["import { getUserToken } from \"../../utils/user\";\n\nexport async function genImage(prompt) {\n  const result = await postWithAuth(\"https://api.zymx.tech/gpt/gen-image\", {\n    prompt: prompt,\n  });\n  return await result.json();\n}\n\nexport function writeMore(prevText, onUpdate, onFinish, onError) {\n  const url = \"https://api.zymx.tech/gpt/continue-write\";\n  const decoder = new TextDecoder(\"utf-8\");\n  const textArr = [prevText];\n  const formData = { prev_text: prevText };\n  var encodedData = Object.keys(formData)\n    .map(function (key) {\n      return encodeURIComponent(key) + \"=\" + encodeURIComponent(formData[key]);\n    })\n    .join(\"&\");\n  try {\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n        Authorization: getUserToken(),\n      },\n      body: encodedData,\n    })\n      .then((response) => {\n        const reader = response.body.getReader();\n        return new ReadableStream({\n          start(controller) {\n            function push() {\n              reader.read().then(({ done, value }) => {\n                if (done) {\n                  controller.close();\n                  return;\n                }\n\n                controller.enqueue(value);\n                push();\n              });\n            }\n            push();\n          },\n        });\n      })\n      .then((stream) => {\n        const reader = stream.getReader();\n\n        function processStream({ done, value }) {\n          if (done) {\n            onFinish();\n            console.log(\"Stream complete\");\n            return;\n          }\n\n          // 处理接收到的数据\n          const contentStr = decoder.decode(value);\n          console.log(\"Received:\", contentStr);\n          textArr.push(contentStr);\n\n          onUpdate(textArr.join(\"\"));\n\n          // 继续读取下一块数据\n          reader.read().then(processStream);\n        }\n\n        reader.read().then(processStream);\n      })\n      .catch((error) => {\n        onError();\n        onFinish();\n        console.error(\"Error:\", error);\n      });\n  } catch (err) {\n    onError();\n    console.error(\"Error:\", err);\n  }\n}\n\n\n\nasync function postWithAuth(url, bodyJson) {\n  var encodedData = Object.keys(bodyJson)\n    .map(function (key) {\n      return encodeURIComponent(key) + \"=\" + encodeURIComponent(bodyJson[key]);\n    })\n    .join(\"&\");\n  return await fetch(url, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n      Authorization: getUserToken(),\n    },\n    body: encodedData,\n  });\n}\n","import { Input, Image, Button, Spin, message } from \"antd\";\nimport { useState } from \"react\";\nimport { genImage, writeMore } from \"./repo\";\nimport { timeFormat } from \"../../utils/format\";\nimport { useLoginModalSwitch, useUserData } from \"../../utils/user\";\n\nexport default function AIGen() {\n  const [isLoading, setIsLoading] = useState(false);\n  const [prompt, setPrompt] = useState(\"\");\n  const [openLoginModal] = useLoginModalSwitch();\n  const userData = useUserData();\n  const [imageResults, setImageResults] = useState([]);\n  const [messageApi, contextHolder] = message.useMessage();\n\n  const onGenImage = () => {\n    if (!userData.token) {\n      openLoginModal();\n      return;\n    }\n    setIsLoading(true);\n    genImage(prompt)\n      .then((resp) => {\n        if (resp.code === 0) {\n          setImageResults([resp.data, ...imageResults]);\n        } else {\n          messageApi.error(resp.message);\n        }\n      })\n      .catch((err) => {\n        console.log(\"failed to gen image. \", err);\n        messageApi.error(\"Failed to gen image.\");\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n  const onAIWrite = () => {\n    setIsLoading(true);\n    writeMore(\n      prompt,\n      (newPrompt) => {\n        setPrompt(newPrompt);\n      },\n      () => {\n        setIsLoading(false);\n      },\n      () => {\n        messageApi.error(\"Failed to AI write\");\n      }\n    );\n  };\n\n  return (\n    <div className=\"p-4 space-y-4 pb-24\">\n      {contextHolder}\n      <div className=\"font-bold text-red-500 p-2 bg-red-50 bg-opacity-80 rounded-lg\">\n        Careful!!! <br />\n        Once you refresh the page, you're unable to find back the images. Make\n        sure save the images you like before you leave.\n      </div>\n      <div className=\"text-base font-bold\">Prompt:</div>\n      <Input.TextArea\n        rows={4}\n        value={prompt}\n        placeholder=\"Input your prompt here. You have to input 10 characters at least. \"\n        onChange={(e) => setPrompt(e.target.value)}\n        disabled={isLoading}\n      />\n      <div className=\"flex space-x-2\">\n        <Button\n          type=\"primary\"\n          loading={isLoading}\n          onClick={onGenImage}\n          disabled={prompt.length < 10}\n        >\n          Gen!\n        </Button>\n        <Button\n          type=\"default\"\n          loading={isLoading}\n          onClick={onAIWrite}\n          disabled={prompt.length < 1}\n        >\n          AI Write\n        </Button>\n      </div>\n      <div className=\"text-base font-bold\">Result:</div>\n      <div className=\"w-full overflow-auto\">\n        <div className=\"w-fit\">\n          <div className=\"flex space-x-2\">\n            {isLoading && (\n              <div className=\"w-28 h-28 flex items-center justify-center bg-white bg-opacity-70 rounded-lg\">\n                <Spin />\n              </div>\n            )}\n            {imageResults.map((item, index) => {\n              const imageInfo = item.data[0];\n              const url =\n                imageInfo.url ?? `data:image/png;base64,${imageInfo.b64_json}`;\n              return (\n                <div className=\"w-28 h-28 rounded-lg\" key={index}>\n                  <Image src={url} />\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      </div>\n\n      <div>\n        {imageResults.map((item, index) => {\n          const imageInfo = item.data[0];\n          const url =\n            imageInfo.url ?? `data:image/png;base64,${imageInfo.b64_json}`;\n          return (\n            <div key={index} className=\"bg-white bg-opacity-90 rounded-lg p-4\">\n              <div className=\"font-bold mb-2\">{timeFormat(item.created)}</div>\n              <div className=\"mb-2 bg-gray-300 rounded-lg p-2 bg-opacity-50\">\n                {imageInfo.revised_prompt}\n              </div>\n              <img\n                src={url}\n                alt={imageInfo.revised_prompt}\n                className=\"w-full h-full\"\n              />\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n","export function timeFormat(timestamp) {\n  const date = new Date(timestamp * 1000);\n\n  const formattedDate = `${date.getFullYear()}-${(date.getMonth() + 1)\n    .toString()\n    .padStart(2, \"0\")}-${date.getDate().toString().padStart(2, \"0\")} ${date\n    .getHours()\n    .toString()\n    .padStart(2, \"0\")}:${date.getMinutes().toString().padStart(2, \"0\")}:${date\n    .getSeconds()\n    .toString()\n    .padStart(2, \"0\")}`;\n  return formattedDate;\n}\n","import ReactDOM from 'react-dom';\nexport default function addEventListenerWrap(target, eventType, cb, option) {\n  /* eslint camelcase: 2 */\n  var callback = ReactDOM.unstable_batchedUpdates ? function run(e) {\n    ReactDOM.unstable_batchedUpdates(cb, e);\n  } : cb;\n  if (target !== null && target !== void 0 && target.addEventListener) {\n    target.addEventListener(eventType, callback, option);\n  }\n  return {\n    remove: function remove() {\n      if (target !== null && target !== void 0 && target.removeEventListener) {\n        target.removeEventListener(eventType, callback, option);\n      }\n    }\n  };\n}","/* eslint-disable no-nested-ternary */\nvar PIXEL_PATTERN = /margin|padding|width|height|max|min|offset/;\nvar removePixel = {\n  left: true,\n  top: true\n};\nvar floatMap = {\n  cssFloat: 1,\n  styleFloat: 1,\n  float: 1\n};\nfunction getComputedStyle(node) {\n  return node.nodeType === 1 ? node.ownerDocument.defaultView.getComputedStyle(node, null) : {};\n}\nfunction getStyleValue(node, type, value) {\n  type = type.toLowerCase();\n  if (value === 'auto') {\n    if (type === 'height') {\n      return node.offsetHeight;\n    }\n    if (type === 'width') {\n      return node.offsetWidth;\n    }\n  }\n  if (!(type in removePixel)) {\n    removePixel[type] = PIXEL_PATTERN.test(type);\n  }\n  return removePixel[type] ? parseFloat(value) || 0 : value;\n}\nexport function get(node, name) {\n  var length = arguments.length;\n  var style = getComputedStyle(node);\n  name = floatMap[name] ? 'cssFloat' in node.style ? 'cssFloat' : 'styleFloat' : name;\n  return length === 1 ? style : getStyleValue(node, name, style[name] || node.style[name]);\n}\nexport function set(node, name, value) {\n  var length = arguments.length;\n  name = floatMap[name] ? 'cssFloat' in node.style ? 'cssFloat' : 'styleFloat' : name;\n  if (length === 3) {\n    if (typeof value === 'number' && PIXEL_PATTERN.test(name)) {\n      value = \"\".concat(value, \"px\");\n    }\n    node.style[name] = value; // Number\n    return value;\n  }\n  for (var x in name) {\n    if (name.hasOwnProperty(x)) {\n      set(node, x, name[x]);\n    }\n  }\n  return getComputedStyle(node);\n}\nexport function getOuterWidth(el) {\n  if (el === document.body) {\n    return document.documentElement.clientWidth;\n  }\n  return el.offsetWidth;\n}\nexport function getOuterHeight(el) {\n  if (el === document.body) {\n    return window.innerHeight || document.documentElement.clientHeight;\n  }\n  return el.offsetHeight;\n}\nexport function getDocSize() {\n  var width = Math.max(document.documentElement.scrollWidth, document.body.scrollWidth);\n  var height = Math.max(document.documentElement.scrollHeight, document.body.scrollHeight);\n  return {\n    width: width,\n    height: height\n  };\n}\nexport function getClientSize() {\n  var width = document.documentElement.clientWidth;\n  var height = window.innerHeight || document.documentElement.clientHeight;\n  return {\n    width: width,\n    height: height\n  };\n}\nexport function getScroll() {\n  return {\n    scrollLeft: Math.max(document.documentElement.scrollLeft, document.body.scrollLeft),\n    scrollTop: Math.max(document.documentElement.scrollTop, document.body.scrollTop)\n  };\n}\nexport function getOffset(node) {\n  var box = node.getBoundingClientRect();\n  var docElem = document.documentElement;\n\n  // < ie8 不支持 win.pageXOffset, 则使用 docElem.scrollLeft\n  return {\n    left: box.left + (window.pageXOffset || docElem.scrollLeft) - (docElem.clientLeft || document.body.clientLeft || 0),\n    top: box.top + (window.pageYOffset || docElem.scrollTop) - (docElem.clientTop || document.body.clientTop || 0)\n  };\n}"],"names":["_genImage","_asyncToGenerator","_regeneratorRuntime","mark","_callee","prompt","result","wrap","_context","prev","next","postWithAuth","sent","json","abrupt","stop","apply","arguments","_x2","_x3","_postWithAuth","_callee2","url","bodyJson","encodedData","_context2","Object","keys","map","key","encodeURIComponent","join","fetch","method","headers","Authorization","getUserToken","body","AIGen","_useState","useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","setPrompt","_useLoginModalSwitch","useLoginModalSwitch","openLoginModal","userData","useUserData","_useState5","_useState6","imageResults","setImageResults","_message$useMessage","message","useMessage","_message$useMessage2","messageApi","contextHolder","_jsxs","className","children","_jsx","Input","TextArea","rows","value","placeholder","onChange","e","target","disabled","Button","type","loading","onClick","token","_x","genImage","then","resp","code","data","concat","_toConsumableArray","error","catch","err","console","log","finally","length","prevText","onUpdate","onFinish","onError","decoder","TextDecoder","textArr","formData","prev_text","response","reader","getReader","ReadableStream","start","controller","push","read","_ref","done","close","enqueue","stream","processStream","_ref2","contentStr","decode","writeMore","newPrompt","Spin","item","index","_imageInfo$url","imageInfo","b64_json","Image","src","_imageInfo$url2","timeFormat","created","revised_prompt","alt","timestamp","date","Date","getFullYear","getMonth","toString","padStart","getDate","getHours","getMinutes","getSeconds","addEventListenerWrap","eventType","cb","option","callback","ReactDOM","addEventListener","remove","removeEventListener","getClientSize","width","document","documentElement","clientWidth","height","window","innerHeight","clientHeight","getOffset","node","box","getBoundingClientRect","docElem","left","pageXOffset","scrollLeft","clientLeft","top","pageYOffset","scrollTop","clientTop"],"sourceRoot":""}