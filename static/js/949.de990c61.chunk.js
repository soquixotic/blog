"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[949],{9633:function(e,n,t){t.d(n,{U:function(){return c}});var c={2:"2",3:"3",4:"4",5:"5",6:"6"}},8949:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var c=t(2309),r=t(4951),a=t(8),o=t(7283),l=t(4489),s=t(4612),u=t(958),i=t(3910),f=t(6336),d=t(5841),h=t(9633),m=t(7491),p=t(2978);function y(){var e=(0,o.lr)(),n=(0,a.Z)(e,1)[0].get("playerNum");return Object.keys(h.U).includes(n)?(0,p.jsx)(l.Z,{children:(0,p.jsx)(v,{playerNum:n})}):(0,p.jsx)(l.Z,{className:"justify-center items-center",children:"Player num is incorrect"})}var x=s.Z.confirm;function v(e){var n=e.playerNum,t=[{title:"\ud83e\udd84",dataIndex:"round",key:"round",width:20}],c=(0,m.useState)([]),o=(0,a.Z)(c,2),s=o[0],f=o[1],d=(0,m.useState)(!1),h=(0,a.Z)(d,2),y=h[0],v=h[1],Z=(0,m.useState)(""),k=(0,a.Z)(Z,2),g=k[0],N=k[1];(0,m.useEffect)((function(){var e={},n={};s.forEach((function(t){console.log(JSON.stringify(t)),Object.keys(t).forEach((function(c){"round"!==c&&"key"!==c&&(e[c]||(e[c]=0),e[c]+=t[c],100===e[c]&&(n[c]=!0))}))}));var t="";Object.keys(e).forEach((function(c,r){var a=n[c],o=a?e[c]-50:e[c];t+="".concat(r+1,"P:\t").concat(o),o>=50&&(t+="\t(".concat(100-o," to 100)")),a&&(t+="\t(discount 50)"),o>=100&&(t+="\t(LOSE)"),t+="\r\n"})),N(t)}),[s]);for(var b=0;b<n;b++){var C="player_".concat(b+1);t.push({title:"".concat(b+1,"P"),dataIndex:C,key:C})}return(0,p.jsxs)(l.Z,{className:"w-full h-full p-4",vertical:!0,children:[(0,p.jsx)("h2",{className:"text-lg mb-4",children:"Score board Actions"}),(0,p.jsxs)(l.Z,{className:"mb-4 space-x-4",children:[(0,p.jsx)(u.ZP,{type:"primary",onClick:function(){v(!0)},children:"Record score"}),s.length>0&&(0,p.jsx)(u.ZP,{type:"default",onClick:function(){s.pop(),f((0,r.Z)(s))},children:"Revoke"}),s.length>0&&(0,p.jsx)(u.ZP,{type:"default",danger:!0,onClick:function(){x({content:"Are you sure to restart the game? ",onOk:function(){f([])}})},children:"Restart"})]}),(0,p.jsx)("pre",{className:"mb-4  ",children:g}),(0,p.jsx)(j,{playerNum:n,open:y,onOk:function(e){var n={round:s.length+1,key:"score_".concat(s.length+1)};console.log("player scores",e);for(var t=0;t<Object.keys(e).length;t++){var c,a="player_".concat(t+1);n[a]=null!==(c=e[a])&&void 0!==c?c:0}s.push(n),f((0,r.Z)(s)),v(!1)},onCancel:function(){v(!1)}}),s.length>0&&(0,p.jsx)(i.Z,{className:"w-full",columns:t,dataSource:s,scroll:{x:"max-content"},pagination:!1})]})}var j=function(e){var n=e.playerNum,t=e.onOk,r=e.onCancel,o=e.open,u=(0,m.useState)({}),i=(0,a.Z)(u,2),h=i[0],y=i[1],x=(0,m.useCallback)((function(){var e={};return Array.from({length:n}).map((function(n,t){var c="player_".concat(t+1);return e[c]=0,0})),e}),[n]);(0,m.useEffect)((function(){y(x())}),[x]);return(0,p.jsx)(s.Z,{open:o,onCancel:r,onOk:function(){t(h),y(x())},title:"Record new round score:",children:(0,p.jsxs)(l.Z,{vertical:!0,className:"space-y-2",children:[(0,p.jsx)(f.Z,{}),Array.from({length:n}).map((function(e,n){var t,r="player_".concat(n+1),a="Player ".concat(n+1),o=null!==(t=h[r])&&void 0!==t?t:0;return(0,p.jsxs)(l.Z,{className:"items-center text-base",children:[a,(0,p.jsx)(d.Z,{className:"ml-4",type:"tel",min:0,max:50,value:o,onChange:function(e){!function(e,n){h[e]=n,y((0,c.Z)({},h))}(r,e)}})]},r)}))]})})}}}]);
//# sourceMappingURL=949.de990c61.chunk.js.map