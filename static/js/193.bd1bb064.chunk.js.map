{"version":3,"file":"static/js/193.bd1bb064.chunk.js","mappings":"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","sources":["../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/rng.js","../node_modules/.pnpm/@babel+runtime@7.23.2/node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/regex.js","../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/validate.js","../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/v4.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/components/Icon/index.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/components/NavigationBar/index.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/components/ToolBar/index.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/share/emitter.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/i18n/lang/en-US.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/i18n/lang/zh-CN.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/i18n/index.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/plugins/Plugin.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/plugins/divider/index.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/share/var.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/utils/tool.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/utils/decorate.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/utils/mergeConfig.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/utils/uploadPlaceholder.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/editor/defaultConfig.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/editor/preview.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/editor/index.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/plugins/autoResize.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/plugins/block/code-block.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/plugins/block/code-inline.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/plugins/block/quote.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/plugins/block/wrap.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/plugins/clear.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/plugins/font/bold.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/plugins/font/italic.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/plugins/font/strikethrough.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/plugins/font/underline.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/plugins/fullScreen.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/components/DropList/index.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/plugins/header/HeaderList.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/plugins/header/index.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/plugins/Image/inputFile.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/plugins/Image/index.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/plugins/link.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/plugins/list/ordered.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/plugins/list/unordered.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/plugins/logger/logger.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/plugins/modeToggle.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/plugins/logger/index.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/plugins/table/table.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/plugins/table/index.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/plugins/tabInsert/TabMapList.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/plugins/tabInsert/index.js","../node_modules/.pnpm/react-markdown-editor-lite@1.3.4_react@18.2.0/node_modules/react-markdown-editor-lite/esm/index.js","utils/user.js","pages/ai-editor/repo.js","pages/ai-editor/index.js","../node_modules/.pnpm/eventemitter3@4.0.7/node_modules/eventemitter3/index.js"],"sourcesContent":["// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","// Icon\nimport * as React from 'react';\nexport default function Icon(props) {\n  return /*#__PURE__*/React.createElement(\"i\", {\n    className: \"rmel-iconfont rmel-icon-\" + props.type\n  });\n}","import * as React from 'react';\nexport default function NavigationBar(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"rc-md-navigation \" + (props.visible ? 'visible' : 'in-visible')\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"navigation-nav left\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-wrap\"\n  }, props.left)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"navigation-nav right\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-wrap\"\n  }, props.right)));\n}","import * as React from 'react';\nexport default function ToolBar(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tool-bar\",\n    style: props.style\n  }, props.children);\n}","import _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport { EventEmitter } from 'eventemitter3';\n\nvar Emitter = /*#__PURE__*/function (_EventEmitter) {\n  _inheritsLoose(Emitter, _EventEmitter);\n\n  function Emitter() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _EventEmitter.call.apply(_EventEmitter, [this].concat(args)) || this;\n    _this.EVENT_CHANGE = 'a1';\n    _this.EVENT_FULL_SCREEN = 'a2';\n    _this.EVENT_VIEW_CHANGE = 'a3';\n    _this.EVENT_KEY_DOWN = 'a4';\n    _this.EVENT_EDITOR_KEY_DOWN = 'a5';\n    _this.EVENT_FOCUS = 'a5';\n    _this.EVENT_BLUR = 'a6';\n    _this.EVENT_SCROLL = 'a7';\n    _this.EVENT_LANG_CHANGE = 'b1';\n    return _this;\n  }\n\n  return Emitter;\n}(EventEmitter);\n\nvar globalEmitter = new Emitter();\nexport { globalEmitter };\nexport default Emitter;","export default {\n  clearTip: 'Are you sure you want to clear all contents?',\n  btnHeader: 'Header',\n  btnClear: 'Clear',\n  btnBold: 'Bold',\n  btnItalic: 'Italic',\n  btnUnderline: 'Underline',\n  btnStrikethrough: 'Strikethrough',\n  btnUnordered: 'Unordered list',\n  btnOrdered: 'Ordered list',\n  btnQuote: 'Quote',\n  btnLineBreak: 'Line break',\n  btnInlineCode: 'Inline code',\n  btnCode: 'Code',\n  btnTable: 'Table',\n  btnImage: 'Image',\n  btnLink: 'Link',\n  btnUndo: 'Undo',\n  btnRedo: 'Redo',\n  btnFullScreen: 'Full screen',\n  btnExitFullScreen: 'Exit full screen',\n  btnModeEditor: 'Only display editor',\n  btnModePreview: 'Only display preview',\n  btnModeAll: 'Display both editor and preview',\n  selectTabMap: 'Actual input when typing a Tab key',\n  tab: 'Tab',\n  spaces: 'Spaces'\n};","export default {\n  clearTip: '',\n  btnHeader: '',\n  btnClear: '',\n  btnBold: '',\n  btnItalic: '',\n  btnUnderline: '',\n  btnStrikethrough: '',\n  btnUnordered: '',\n  btnOrdered: '',\n  btnQuote: '',\n  btnLineBreak: '',\n  btnInlineCode: '',\n  btnCode: '',\n  btnTable: '',\n  btnImage: '',\n  btnLink: '',\n  btnUndo: '',\n  btnRedo: '',\n  btnFullScreen: '',\n  btnExitFullScreen: '',\n  btnModeEditor: '',\n  btnModePreview: '',\n  btnModeAll: '',\n  selectTabMap: ' Tab ',\n  tab: '',\n  spaces: ''\n};","import { globalEmitter } from '../share/emitter';\nimport enUS from './lang/en-US';\nimport zhCN from './lang/zh-CN';\n\nvar I18n = /*#__PURE__*/function () {\n  function I18n() {\n    this.langs = {\n      enUS: enUS,\n      zhCN: zhCN\n    };\n    this.current = 'enUS';\n    this.setUp();\n  }\n\n  var _proto = I18n.prototype;\n\n  _proto.setUp = function setUp() {\n    if (typeof window === 'undefined') {\n      // \n      return;\n    }\n\n    var locale = 'enUS'; // \n\n    if (navigator.language) {\n      var it = navigator.language.split('-');\n      locale = it[0];\n\n      if (it.length !== 1) {\n        locale += it[it.length - 1].toUpperCase();\n      }\n    } // IE10browserLanguage\n    // @ts-ignore\n\n\n    if (navigator.browserLanguage) {\n      // @ts-ignore\n      var _it = navigator.browserLanguage.split('-');\n\n      locale = _it[0];\n\n      if (_it[1]) {\n        locale += _it[1].toUpperCase();\n      }\n    }\n\n    if (this.current !== locale && this.isAvailable(locale)) {\n      this.current = locale;\n      globalEmitter.emit(globalEmitter.EVENT_LANG_CHANGE, this, locale, this.langs[locale]);\n    }\n  };\n\n  _proto.isAvailable = function isAvailable(langName) {\n    return typeof this.langs[langName] !== 'undefined';\n  };\n\n  _proto.add = function add(langName, lang) {\n    this.langs[langName] = lang;\n  };\n\n  _proto.setCurrent = function setCurrent(langName) {\n    if (!this.isAvailable(langName)) {\n      throw new Error(\"Language \" + langName + \" is not exists\");\n    }\n\n    if (this.current !== langName) {\n      this.current = langName;\n      globalEmitter.emit(globalEmitter.EVENT_LANG_CHANGE, this, langName, this.langs[langName]);\n    }\n  };\n\n  _proto.get = function get(key, placeholders) {\n    var str = this.langs[this.current][key] || '';\n\n    if (placeholders) {\n      Object.keys(placeholders).forEach(function (k) {\n        str = str.replace(new RegExp(\"\\\\{\" + k + \"\\\\}\", 'g'), placeholders[k]);\n      });\n    }\n\n    return str;\n  };\n\n  _proto.getCurrent = function getCurrent() {\n    return this.current;\n  };\n\n  return I18n;\n}();\n\nvar i18n = new I18n();\nexport default i18n;","import _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nexport var PluginComponent = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(PluginComponent, _React$Component);\n\n  function PluginComponent() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = PluginComponent.prototype;\n\n  _proto.getConfig = function getConfig(key, defaultValue) {\n    return typeof this.props.config[key] !== 'undefined' && this.props.config[key] !== null ? this.props.config[key] : defaultValue;\n  };\n\n  _createClass(PluginComponent, [{\n    key: \"editor\",\n    get: function get() {\n      return this.props.editor;\n    }\n  }, {\n    key: \"editorConfig\",\n    get: function get() {\n      return this.props.editorConfig;\n    }\n  }]);\n\n  return PluginComponent;\n}(React.Component);\nPluginComponent.pluginName = '';\nPluginComponent.align = 'left';\nPluginComponent.defaultConfig = {};","import _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nimport { PluginComponent } from '../Plugin';\n\nvar Divider = /*#__PURE__*/function (_PluginComponent) {\n  _inheritsLoose(Divider, _PluginComponent);\n\n  function Divider() {\n    return _PluginComponent.apply(this, arguments) || this;\n  }\n\n  var _proto = Divider.prototype;\n\n  _proto.render = function render() {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"rc-md-divider\"\n    });\n  };\n\n  return Divider;\n}(PluginComponent);\n\nDivider.pluginName = 'divider';\nexport { Divider as default };","export var initialSelection = {\n  start: 0,\n  end: 0,\n  text: ''\n};","function _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nexport function deepClone(obj) {\n  if (!obj || typeof obj !== 'object') {\n    return obj;\n  }\n\n  var objArray = Array.isArray(obj) ? [] : {};\n\n  if (obj && typeof obj === 'object') {\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        // obj\n        if (obj[key] && typeof obj[key] === 'object') {\n          objArray[key] = deepClone(obj[key]);\n        } else {\n          objArray[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  return objArray;\n}\nexport function isEmpty(obj) {\n  // \n  return typeof obj === 'undefined' || obj === null || obj === '';\n}\nexport function isPromise(obj) {\n  return obj && (obj instanceof Promise || (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function');\n}\nexport function repeat(str, num) {\n  var result = '';\n  var n = num;\n\n  while (n--) {\n    result += str;\n  }\n\n  return result;\n}\nexport function isKeyMatch(event, cond) {\n  var withKey = cond.withKey,\n      keyCode = cond.keyCode,\n      key = cond.key,\n      aliasCommand = cond.aliasCommand;\n  var e = {\n    ctrlKey: event.ctrlKey,\n    metaKey: event.metaKey,\n    altKey: event.altKey,\n    shiftKey: event.shiftKey,\n    keyCode: event.keyCode,\n    key: event.key\n  };\n\n  if (aliasCommand) {\n    e.ctrlKey = e.ctrlKey || e.metaKey;\n  }\n\n  if (withKey && withKey.length > 0) {\n    for (var _iterator = _createForOfIteratorHelperLoose(withKey), _step; !(_step = _iterator()).done;) {\n      var it = _step.value;\n\n      if (typeof e[it] !== 'undefined' && !e[it]) {\n        return false;\n      }\n    }\n  } else {\n    if (e.metaKey || e.ctrlKey || e.shiftKey || e.altKey) {\n      return false;\n    }\n  }\n\n  if (e.key) {\n    return e.key === key;\n  } else {\n    return e.keyCode === keyCode;\n  }\n}\nexport function getLineAndCol(text, pos) {\n  var lines = text.split('\\n');\n  var beforeLines = text.substr(0, pos).split('\\n');\n  var line = beforeLines.length;\n  var col = beforeLines[beforeLines.length - 1].length;\n  var curLine = lines[beforeLines.length - 1];\n  var prevLine = beforeLines.length > 1 ? beforeLines[beforeLines.length - 2] : null;\n  var nextLine = lines.length > beforeLines.length ? lines[beforeLines.length] : null;\n  return {\n    line: line,\n    col: col,\n    beforeText: text.substr(0, pos),\n    afterText: text.substr(pos),\n    curLine: curLine,\n    prevLine: prevLine,\n    nextLine: nextLine\n  };\n}","import { repeat } from './tool';\n// Decorator\nvar SIMPLE_DECORATOR = {\n  bold: ['**', '**'],\n  italic: ['*', '*'],\n  underline: ['++', '++'],\n  strikethrough: ['~~', '~~'],\n  quote: ['\\n> ', '\\n'],\n  inlinecode: ['`', '`'],\n  code: ['\\n```\\n', '\\n```\\n']\n}; // H1-H6\n\nfor (var i = 1; i <= 6; i++) {\n  SIMPLE_DECORATOR[\"h\" + i] = [\"\\n\" + repeat('#', i) + \" \", '\\n'];\n}\n\nfunction decorateTableText(option) {\n  var _option$row = option.row,\n      row = _option$row === void 0 ? 2 : _option$row,\n      _option$col = option.col,\n      col = _option$col === void 0 ? 2 : _option$col;\n  var rowHeader = ['|'];\n  var rowData = ['|'];\n  var rowDivision = ['|'];\n  var colStr = '';\n\n  for (var _i = 1; _i <= col; _i++) {\n    rowHeader.push(' Head |');\n    rowDivision.push(' --- |');\n    rowData.push(' Data |');\n  }\n\n  for (var j = 1; j <= row; j++) {\n    colStr += '\\n' + rowData.join('');\n  }\n\n  return rowHeader.join('') + \"\\n\" + rowDivision.join('') + colStr;\n}\n\nfunction decorateList(type, target) {\n  var text = target;\n\n  if (text.substr(0, 1) !== '\\n') {\n    text = '\\n' + text;\n  }\n\n  if (type === 'unordered') {\n    return text.length > 1 ? text.replace(/\\n/g, '\\n* ').trim() : '* ';\n  } else {\n    var count = 1;\n\n    if (text.length > 1) {\n      return text.replace(/\\n/g, function () {\n        return \"\\n\" + count++ + \". \";\n      }).trim();\n    } else {\n      return '1. ';\n    }\n  }\n}\n\nfunction createTextDecorated(text, newBlock) {\n  return {\n    text: text,\n    newBlock: newBlock,\n    selection: {\n      start: text.length,\n      end: text.length\n    }\n  };\n}\n/**\n * Markdown\n * @param target \n * @param type \n * @param option \n * @returns {Decorated}\n */\n\n\nfunction getDecorated(target, type, option) {\n  if (typeof SIMPLE_DECORATOR[type] !== 'undefined') {\n    return {\n      text: \"\" + SIMPLE_DECORATOR[type][0] + target + SIMPLE_DECORATOR[type][1],\n      selection: {\n        start: SIMPLE_DECORATOR[type][0].length,\n        end: SIMPLE_DECORATOR[type][0].length + target.length\n      }\n    };\n  }\n\n  switch (type) {\n    case 'tab':\n      var inputValue = option.tabMapValue === 1 ? '\\t' : ' '.repeat(option.tabMapValue);\n      var newSelectedText = inputValue + target.replace(/\\n/g, \"\\n\" + inputValue);\n      var lineBreakCount = target.includes('\\n') ? target.match(/\\n/g).length : 0;\n      return {\n        text: newSelectedText,\n        selection: {\n          start: option.tabMapValue,\n          end: option.tabMapValue * (lineBreakCount + 1) + target.length\n        }\n      };\n\n    case 'unordered':\n      return createTextDecorated(decorateList('unordered', target), true);\n\n    case 'order':\n      return createTextDecorated(decorateList('order', target), true);\n\n    case 'hr':\n      return createTextDecorated('---', true);\n\n    case 'table':\n      return {\n        text: decorateTableText(option),\n        newBlock: true\n      };\n\n    case 'image':\n      return {\n        text: \"![\" + (target || option.target) + \"](\" + (option.imageUrl || '') + \")\",\n        selection: {\n          start: 2,\n          end: target.length + 2\n        }\n      };\n\n    case 'link':\n      return {\n        text: \"[\" + target + \"](\" + (option.linkUrl || '') + \")\",\n        selection: {\n          start: 1,\n          end: target.length + 1\n        }\n      };\n  }\n\n  return {\n    text: target,\n    selection: {\n      start: 0,\n      end: target.length\n    }\n  };\n}\n\nexport default getDecorated;","import _extends from \"@babel/runtime/helpers/extends\";\n\nfunction mergeObject(obj1, obj2) {\n  var result = {};\n  Object.keys(obj1).forEach(function (k) {\n    if (typeof obj2[k] === 'undefined') {\n      result[k] = obj1[k];\n      return;\n    }\n\n    if (typeof obj2[k] === 'object') {\n      if (Array.isArray(obj2[k])) {\n        result[k] = [].concat(obj2[k]);\n      } else {\n        result[k] = mergeObject(obj1[k], obj2[k]);\n      }\n\n      return;\n    }\n\n    result[k] = obj2[k];\n  });\n  return result;\n}\n\nexport default function (defaultConfig) {\n  var res = _extends({}, defaultConfig);\n\n  for (var _len = arguments.length, configs = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    configs[_key - 1] = arguments[_key];\n  }\n\n  configs.forEach(function (conf) {\n    // only object\n    if (typeof conf !== 'object') {\n      return;\n    }\n\n    res = mergeObject(res, conf);\n  });\n  return res;\n}","import { v4 as uuid } from 'uuid';\nimport getDecorated from './decorate';\nimport { isPromise } from './tool';\n\nfunction getUploadPlaceholder(file, onImageUpload) {\n  var placeholder = getDecorated('', 'image', {\n    target: \"Uploading_\" + uuid(),\n    imageUrl: ''\n  }).text;\n  var uploaded = new Promise(function (resolve) {\n    var isCallback = true;\n\n    var handleUploaded = function handleUploaded(url) {\n      if (isCallback) {\n        console.warn('Deprecated: onImageUpload should return a Promise, callback will be removed in future');\n      }\n\n      resolve(getDecorated('', 'image', {\n        target: file.name,\n        imageUrl: url\n      }).text);\n    }; // Promise\n\n\n    var upload = onImageUpload(file, handleUploaded);\n\n    if (isPromise(upload)) {\n      isCallback = false;\n      upload.then(handleUploaded);\n    }\n  });\n  return {\n    placeholder: placeholder,\n    uploaded: uploaded\n  };\n}\n\nexport default getUploadPlaceholder;","var defaultConfig = {\n  theme: 'default',\n  view: {\n    menu: true,\n    md: true,\n    html: true\n  },\n  canView: {\n    menu: true,\n    md: true,\n    html: true,\n    both: true,\n    fullScreen: true,\n    hideMenu: true\n  },\n  htmlClass: '',\n  markdownClass: '',\n  syncScrollMode: ['rightFollowLeft', 'leftFollowRight'],\n  imageUrl: '',\n  imageAccept: '',\n  linkUrl: '',\n  loggerMaxSize: 100,\n  loggerInterval: 600,\n  table: {\n    maxRow: 4,\n    maxCol: 6\n  },\n  allowPasteImage: true,\n  onImageUpload: undefined,\n  onCustomImageUpload: undefined,\n  shortcuts: true,\n  onChangeTrigger: 'both'\n};\nexport default defaultConfig;","import _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nexport var Preview = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Preview, _React$Component);\n\n  function Preview(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.el = /*#__PURE__*/React.createRef();\n    return _this;\n  }\n\n  var _proto = Preview.prototype;\n\n  _proto.getElement = function getElement() {\n    return this.el.current;\n  };\n\n  _proto.getHeight = function getHeight() {\n    return this.el.current ? this.el.current.offsetHeight : 0;\n  };\n\n  return Preview;\n}(React.Component);\nexport var HtmlRender = /*#__PURE__*/function (_Preview) {\n  _inheritsLoose(HtmlRender, _Preview);\n\n  function HtmlRender() {\n    return _Preview.apply(this, arguments) || this;\n  }\n\n  var _proto2 = HtmlRender.prototype;\n\n  _proto2.getHtml = function getHtml() {\n    if (typeof this.props.html === 'string') {\n      return this.props.html;\n    }\n\n    if (this.el.current) {\n      return this.el.current.innerHTML;\n    }\n\n    return '';\n  };\n\n  _proto2.render = function render() {\n    return typeof this.props.html === 'string' ? /*#__PURE__*/React.createElement('div', {\n      ref: this.el,\n      dangerouslySetInnerHTML: {\n        __html: this.props.html\n      },\n      className: this.props.className || 'custom-html-style'\n    }) : /*#__PURE__*/React.createElement('div', {\n      ref: this.el,\n      className: this.props.className || 'custom-html-style'\n    }, this.props.html);\n  };\n\n  return HtmlRender;\n}(Preview);\nexport default HtmlRender;","import _extends from \"@babel/runtime/helpers/extends\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport * as React from 'react';\nimport { v4 as uuid } from 'uuid';\nimport Icon from '../components/Icon';\nimport NavigationBar from '../components/NavigationBar';\nimport ToolBar from '../components/ToolBar';\nimport i18n from '../i18n';\nimport DividerPlugin from '../plugins/divider';\nimport Emitter, { globalEmitter } from '../share/emitter';\nimport { initialSelection } from '../share/var';\nimport getDecorated from '../utils/decorate';\nimport mergeConfig from '../utils/mergeConfig';\nimport { getLineAndCol, isKeyMatch, isPromise } from '../utils/tool';\nimport getUploadPlaceholder from '../utils/uploadPlaceholder';\nimport defaultConfig from './defaultConfig';\nimport { HtmlRender } from './preview';\n\nvar Editor = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Editor, _React$Component);\n\n  /**\n   * Register plugin\n   * @param {any} comp Plugin component\n   * @param {any} config Other configs\n   */\n  Editor.use = function use(comp, config) {\n    if (config === void 0) {\n      config = {};\n    }\n\n    // Check for duplicate plugins\n    for (var i = 0; i < Editor.plugins.length; i++) {\n      if (Editor.plugins[i].comp === comp) {\n        Editor.plugins.splice(i, 1, {\n          comp: comp,\n          config: config\n        });\n        return;\n      }\n    }\n\n    Editor.plugins.push({\n      comp: comp,\n      config: config\n    });\n  }\n  /**\n   * Unregister plugin\n   * @param {any} comp Plugin component\n   */\n  ;\n\n  Editor.unuse = function unuse(comp) {\n    for (var i = 0; i < Editor.plugins.length; i++) {\n      if (Editor.plugins[i].comp === comp) {\n        Editor.plugins.splice(i, 1);\n        return;\n      }\n    }\n  }\n  /**\n   * Unregister all plugins\n   * @param {any} comp Plugin component\n   */\n  ;\n\n  Editor.unuseAll = function unuseAll() {\n    Editor.plugins = [];\n  }\n  /**\n   * Locales\n   */\n  ;\n\n  function Editor(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.nodeMdText = /*#__PURE__*/React.createRef();\n    _this.nodeMdPreview = /*#__PURE__*/React.createRef();\n    _this.nodeMdPreviewWrapper = /*#__PURE__*/React.createRef();\n    _this.hasContentChanged = true;\n    _this.composing = false;\n    _this.pluginApis = new Map();\n    _this.scrollScale = 1;\n    _this.isSyncingScroll = false;\n    _this.shouldSyncScroll = 'md';\n    _this.keyboardListeners = [];\n    _this.emitter = new Emitter();\n    _this.config = mergeConfig(defaultConfig, _this.props.config, _this.props);\n    _this.state = {\n      text: (_this.props.value || _this.props.defaultValue || '').replace(//g, '\\n'),\n      html: '',\n      view: _this.config.view || defaultConfig.view,\n      fullScreen: false,\n      plugins: _this.getPlugins()\n    };\n\n    if (_this.config.canView && !_this.config.canView.menu) {\n      _this.state.view.menu = false;\n    }\n\n    _this.nodeMdText = /*#__PURE__*/React.createRef();\n    _this.nodeMdPreviewWrapper = /*#__PURE__*/React.createRef();\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.handlePaste = _this.handlePaste.bind(_assertThisInitialized(_this));\n    _this.handleDrop = _this.handleDrop.bind(_assertThisInitialized(_this));\n    _this.handleToggleMenu = _this.handleToggleMenu.bind(_assertThisInitialized(_this));\n    _this.handleKeyDown = _this.handleKeyDown.bind(_assertThisInitialized(_this));\n    _this.handleEditorKeyDown = _this.handleEditorKeyDown.bind(_assertThisInitialized(_this));\n    _this.handleLocaleUpdate = _this.handleLocaleUpdate.bind(_assertThisInitialized(_this));\n    _this.handleFocus = _this.handleFocus.bind(_assertThisInitialized(_this));\n    _this.handleBlur = _this.handleBlur.bind(_assertThisInitialized(_this));\n    _this.handleInputScroll = _this.handleSyncScroll.bind(_assertThisInitialized(_this), 'md');\n    _this.handlePreviewScroll = _this.handleSyncScroll.bind(_assertThisInitialized(_this), 'html');\n    return _this;\n  }\n\n  var _proto = Editor.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var text = this.state.text;\n    this.renderHTML(text);\n    globalEmitter.on(globalEmitter.EVENT_LANG_CHANGE, this.handleLocaleUpdate); // init i18n\n\n    i18n.setUp();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    globalEmitter.off(globalEmitter.EVENT_LANG_CHANGE, this.handleLocaleUpdate);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (typeof this.props.value !== 'undefined' && this.props.value !== this.state.text) {\n      var value = this.props.value;\n\n      if (typeof value !== 'string') {\n        value = String(value).toString();\n      }\n\n      value = value.replace(//g, '\\n');\n\n      if (this.state.text !== value) {\n        this.setState({\n          text: value\n        });\n        this.renderHTML(value);\n      }\n    }\n\n    if (prevProps.plugins !== this.props.plugins) {\n      this.setState({\n        plugins: this.getPlugins()\n      });\n    }\n  };\n\n  _proto.isComposing = function isComposing() {\n    return this.composing;\n  };\n\n  _proto.getPlugins = function getPlugins() {\n    var _this2 = this;\n\n    var plugins = [];\n\n    if (this.props.plugins) {\n      // If plugins option is configured, use only specified plugins\n      var addToPlugins = function addToPlugins(name) {\n        if (name === DividerPlugin.pluginName) {\n          plugins.push({\n            comp: DividerPlugin,\n            config: {}\n          });\n          return;\n        }\n\n        for (var _iterator = _createForOfIteratorHelperLoose(Editor.plugins), _step; !(_step = _iterator()).done;) {\n          var it = _step.value;\n\n          if (it.comp.pluginName === name) {\n            plugins.push(it);\n            return;\n          }\n        }\n      };\n\n      for (var _iterator2 = _createForOfIteratorHelperLoose(this.props.plugins), _step2; !(_step2 = _iterator2()).done;) {\n        var name = _step2.value;\n\n        // Special handling of fonts to ensure backward compatibility\n        if (name === 'fonts') {\n          addToPlugins('font-bold');\n          addToPlugins('font-italic');\n          addToPlugins('font-underline');\n          addToPlugins('font-strikethrough');\n          addToPlugins('list-unordered');\n          addToPlugins('list-ordered');\n          addToPlugins('block-quote');\n          addToPlugins('block-wrap');\n          addToPlugins('block-code-inline');\n          addToPlugins('block-code-block');\n        } else {\n          addToPlugins(name);\n        }\n      }\n    } else {\n      // Use all registered plugins\n      plugins = [].concat(Editor.plugins);\n    }\n\n    var result = {};\n    plugins.forEach(function (it) {\n      if (typeof result[it.comp.align] === 'undefined') {\n        result[it.comp.align] = [];\n      }\n\n      var key = it.comp.pluginName === 'divider' ? uuid() : it.comp.pluginName;\n      result[it.comp.align].push( /*#__PURE__*/React.createElement(it.comp, {\n        editor: _this2,\n        editorConfig: _this2.config,\n        config: _extends({}, it.comp.defaultConfig || {}, it.config || {}),\n        key: key\n      }));\n    });\n    return result;\n  } // sync left and right section's scroll\n  ;\n\n  _proto.handleSyncScroll = function handleSyncScroll(type, e) {\n    var _this3 = this;\n\n    // prevent loop\n    if (type !== this.shouldSyncScroll) {\n      return;\n    } // trigger events\n\n\n    if (this.props.onScroll) {\n      this.props.onScroll(e, type);\n    }\n\n    this.emitter.emit(this.emitter.EVENT_SCROLL, e, type); // should sync scroll?\n\n    var _this$config$syncScro = this.config.syncScrollMode,\n        syncScrollMode = _this$config$syncScro === void 0 ? [] : _this$config$syncScro;\n\n    if (!syncScrollMode.includes(type === 'md' ? 'rightFollowLeft' : 'leftFollowRight')) {\n      return;\n    }\n\n    if (this.hasContentChanged && this.nodeMdText.current && this.nodeMdPreviewWrapper.current) {\n      // \n      this.scrollScale = this.nodeMdText.current.scrollHeight / this.nodeMdPreviewWrapper.current.scrollHeight;\n      this.hasContentChanged = false;\n    }\n\n    if (!this.isSyncingScroll) {\n      this.isSyncingScroll = true;\n      requestAnimationFrame(function () {\n        if (_this3.nodeMdText.current && _this3.nodeMdPreviewWrapper.current) {\n          if (type === 'md') {\n            // left to right\n            _this3.nodeMdPreviewWrapper.current.scrollTop = _this3.nodeMdText.current.scrollTop / _this3.scrollScale;\n          } else {\n            // right to left\n            _this3.nodeMdText.current.scrollTop = _this3.nodeMdPreviewWrapper.current.scrollTop * _this3.scrollScale;\n          }\n        }\n\n        _this3.isSyncingScroll = false;\n      });\n    }\n  };\n\n  _proto.renderHTML = function renderHTML(markdownText) {\n    var _this4 = this;\n\n    if (!this.props.renderHTML) {\n      console.error('renderHTML props is required!');\n      return Promise.resolve();\n    }\n\n    var res = this.props.renderHTML(markdownText);\n\n    if (isPromise(res)) {\n      // @ts-ignore\n      return res.then(function (r) {\n        return _this4.setHtml(r);\n      });\n    }\n\n    if (typeof res === 'function') {\n      return this.setHtml(res());\n    }\n\n    return this.setHtml(res);\n  };\n\n  _proto.setHtml = function setHtml(html) {\n    var _this5 = this;\n\n    return new Promise(function (resolve) {\n      _this5.setState({\n        html: html\n      }, resolve);\n    });\n  };\n\n  _proto.handleToggleMenu = function handleToggleMenu() {\n    this.setView({\n      menu: !this.state.view.menu\n    });\n  };\n\n  _proto.handleFocus = function handleFocus(e) {\n    var onFocus = this.props.onFocus;\n\n    if (onFocus) {\n      onFocus(e);\n    }\n\n    this.emitter.emit(this.emitter.EVENT_FOCUS, e);\n  };\n\n  _proto.handleBlur = function handleBlur(e) {\n    var onBlur = this.props.onBlur;\n\n    if (onBlur) {\n      onBlur(e);\n    }\n\n    this.emitter.emit(this.emitter.EVENT_BLUR, e);\n  }\n  /**\n   * Text area change event\n   * @param {React.ChangeEvent} e\n   */\n  ;\n\n  _proto.handleChange = function handleChange(e) {\n    e.persist();\n    var value = e.target.value; // \n\n    this.setText(value, e);\n  }\n  /**\n   * Listen paste event to support paste images\n   */\n  ;\n\n  _proto.handlePaste = function handlePaste(e) {\n    if (!this.config.allowPasteImage || !this.config.onImageUpload) {\n      return;\n    }\n\n    var event = e.nativeEvent; // @ts-ignore\n\n    var items = (event.clipboardData || window.clipboardData).items;\n\n    if (items) {\n      e.preventDefault();\n      this.uploadWithDataTransfer(items);\n    }\n  } // Drag images to upload\n  ;\n\n  _proto.handleDrop = function handleDrop(e) {\n    if (!this.config.onImageUpload) {\n      return;\n    }\n\n    var event = e.nativeEvent;\n\n    if (!event.dataTransfer) {\n      return;\n    }\n\n    var items = event.dataTransfer.items;\n\n    if (items) {\n      e.preventDefault();\n      this.uploadWithDataTransfer(items);\n    }\n  };\n\n  _proto.handleEditorKeyDown = function handleEditorKeyDown(e) {\n    var _this6 = this;\n\n    var keyCode = e.keyCode,\n        key = e.key,\n        currentTarget = e.currentTarget;\n\n    if ((keyCode === 13 || key === 'Enter') && this.composing === false) {\n      var _text = currentTarget.value;\n      var curPos = currentTarget.selectionStart;\n      var lineInfo = getLineAndCol(_text, curPos);\n\n      var emptyCurrentLine = function emptyCurrentLine() {\n        var newValue = currentTarget.value.substr(0, curPos - lineInfo.curLine.length) + currentTarget.value.substr(curPos);\n\n        _this6.setText(newValue, undefined, {\n          start: curPos - lineInfo.curLine.length,\n          end: curPos - lineInfo.curLine.length\n        });\n\n        e.preventDefault();\n      };\n\n      var addSymbol = function addSymbol(symbol) {\n        _this6.insertText(\"\\n\" + symbol, false, {\n          start: symbol.length + 1,\n          end: symbol.length + 1\n        });\n\n        e.preventDefault();\n      }; // Enter key, check previous line\n\n\n      var isSymbol = lineInfo.curLine.match(/^(\\s*?)\\* /);\n\n      if (isSymbol) {\n        if (/^(\\s*?)\\* $/.test(lineInfo.curLine)) {\n          emptyCurrentLine();\n          return;\n        }\n\n        addSymbol(isSymbol[0]);\n        return;\n      }\n\n      var isOrderList = lineInfo.curLine.match(/^(\\s*?)(\\d+)\\. /);\n\n      if (isOrderList) {\n        if (/^(\\s*?)(\\d+)\\. $/.test(lineInfo.curLine)) {\n          emptyCurrentLine();\n          return;\n        }\n\n        var toInsert = \"\" + isOrderList[1] + (parseInt(isOrderList[2], 10) + 1) + \". \";\n        addSymbol(toInsert);\n        return;\n      }\n    } // \n\n\n    this.emitter.emit(this.emitter.EVENT_EDITOR_KEY_DOWN, e);\n  } // Handle language change\n  ;\n\n  _proto.handleLocaleUpdate = function handleLocaleUpdate() {\n    this.forceUpdate();\n  }\n  /**\n   * Get elements\n   */\n  ;\n\n  _proto.getMdElement = function getMdElement() {\n    return this.nodeMdText.current;\n  };\n\n  _proto.getHtmlElement = function getHtmlElement() {\n    return this.nodeMdPreviewWrapper.current;\n  }\n  /**\n   * Clear selected\n   */\n  ;\n\n  _proto.clearSelection = function clearSelection() {\n    if (this.nodeMdText.current) {\n      this.nodeMdText.current.setSelectionRange(0, 0, 'none');\n    }\n  }\n  /**\n   * Get selected\n   * @return {Selection}\n   */\n  ;\n\n  _proto.getSelection = function getSelection() {\n    var source = this.nodeMdText.current;\n\n    if (!source) {\n      return _extends({}, initialSelection);\n    }\n\n    var start = source.selectionStart;\n    var end = source.selectionEnd;\n    var text = (source.value || '').slice(start, end);\n    return {\n      start: start,\n      end: end,\n      text: text\n    };\n  }\n  /**\n   * Set selected\n   * @param {Selection} to\n   */\n  ;\n\n  _proto.setSelection = function setSelection(to) {\n    if (this.nodeMdText.current) {\n      this.nodeMdText.current.setSelectionRange(to.start, to.end, 'forward');\n      this.nodeMdText.current.focus();\n    }\n  }\n  /**\n   * Insert markdown text\n   * @param type\n   * @param option\n   */\n  ;\n\n  _proto.insertMarkdown = function insertMarkdown(type, option) {\n    if (option === void 0) {\n      option = {};\n    }\n\n    var curSelection = this.getSelection();\n    var decorateOption = option ? _extends({}, option) : {};\n\n    if (type === 'image') {\n      decorateOption = _extends({}, decorateOption, {\n        target: option.target || curSelection.text || '',\n        imageUrl: option.imageUrl || this.config.imageUrl\n      });\n    }\n\n    if (type === 'link') {\n      decorateOption = _extends({}, decorateOption, {\n        linkUrl: this.config.linkUrl\n      });\n    }\n\n    if (type === 'tab' && curSelection.start !== curSelection.end) {\n      var curLineStart = this.getMdValue().slice(0, curSelection.start).lastIndexOf('\\n') + 1;\n      this.setSelection({\n        start: curLineStart,\n        end: curSelection.end\n      });\n    }\n\n    var decorate = getDecorated(curSelection.text, type, decorateOption);\n    var text = decorate.text;\n    var selection = decorate.selection;\n\n    if (decorate.newBlock) {\n      var startLineInfo = getLineAndCol(this.getMdValue(), curSelection.start);\n      var col = startLineInfo.col,\n          curLine = startLineInfo.curLine;\n\n      if (col > 0 && curLine.length > 0) {\n        text = \"\\n\" + text;\n\n        if (selection) {\n          selection.start++;\n          selection.end++;\n        }\n      }\n\n      var afterText = startLineInfo.afterText;\n\n      if (curSelection.start !== curSelection.end) {\n        afterText = getLineAndCol(this.getMdValue(), curSelection.end).afterText;\n      }\n\n      if (afterText.trim() !== '' && afterText.substr(0, 2) !== '\\n\\n') {\n        if (afterText.substr(0, 1) !== '\\n') {\n          text += '\\n';\n        }\n\n        text += '\\n';\n      }\n    }\n\n    this.insertText(text, true, selection);\n  }\n  /**\n   * Insert a placeholder, and replace it when the Promise resolved\n   * @param placeholder\n   * @param wait\n   */\n  ;\n\n  _proto.insertPlaceholder = function insertPlaceholder(placeholder, wait) {\n    var _this7 = this;\n\n    this.insertText(placeholder, true);\n    wait.then(function (str) {\n      var text = _this7.getMdValue().replace(placeholder, str);\n\n      _this7.setText(text);\n    });\n  }\n  /**\n   * Insert text\n   * @param {string} value The text will be insert\n   * @param {boolean} replaceSelected Replace selected text\n   * @param {Selection} newSelection New selection\n   */\n  ;\n\n  _proto.insertText = function insertText(value, replaceSelected, newSelection) {\n    if (value === void 0) {\n      value = '';\n    }\n\n    if (replaceSelected === void 0) {\n      replaceSelected = false;\n    }\n\n    var text = this.state.text;\n    var selection = this.getSelection();\n    var beforeContent = text.slice(0, selection.start);\n    var afterContent = text.slice(replaceSelected ? selection.end : selection.start, text.length);\n    this.setText(beforeContent + value + afterContent, undefined, newSelection ? {\n      start: newSelection.start + beforeContent.length,\n      end: newSelection.end + beforeContent.length\n    } : {\n      start: selection.start,\n      end: selection.start\n    });\n  }\n  /**\n   * Set text, and trigger onChange event\n   * @param {string} value\n   * @param {any} event\n   */\n  ;\n\n  _proto.setText = function setText(value, event, newSelection) {\n    var _this8 = this;\n\n    if (value === void 0) {\n      value = '';\n    }\n\n    var _this$config$onChange = this.config.onChangeTrigger,\n        onChangeTrigger = _this$config$onChange === void 0 ? 'both' : _this$config$onChange;\n    var text = value.replace(//g, '\\n');\n\n    if (this.state.text === value) {\n      return;\n    }\n\n    this.setState({\n      text: text\n    });\n\n    if (this.props.onChange && (onChangeTrigger === 'both' || onChangeTrigger === 'beforeRender')) {\n      this.props.onChange({\n        text: text,\n        html: this.getHtmlValue()\n      }, event);\n    }\n\n    this.emitter.emit(this.emitter.EVENT_CHANGE, value, event, typeof event === 'undefined');\n\n    if (newSelection) {\n      setTimeout(function () {\n        return _this8.setSelection(newSelection);\n      });\n    }\n\n    if (!this.hasContentChanged) {\n      this.hasContentChanged = true;\n    }\n\n    var rendering = this.renderHTML(text);\n\n    if (onChangeTrigger === 'both' || onChangeTrigger === 'afterRender') {\n      rendering.then(function () {\n        if (_this8.props.onChange) {\n          _this8.props.onChange({\n            text: _this8.state.text,\n            html: _this8.getHtmlValue()\n          }, event);\n        }\n      });\n    }\n  }\n  /**\n   * Get text value\n   * @return {string}\n   */\n  ;\n\n  _proto.getMdValue = function getMdValue() {\n    return this.state.text;\n  }\n  /**\n   * Get rendered html\n   * @returns {string}\n   */\n  ;\n\n  _proto.getHtmlValue = function getHtmlValue() {\n    if (typeof this.state.html === 'string') {\n      return this.state.html;\n    }\n\n    if (this.nodeMdPreview.current) {\n      return this.nodeMdPreview.current.getHtml();\n    }\n\n    return '';\n  }\n  /**\n   * Listen keyboard events\n   */\n  ;\n\n  /**\n   * Listen keyboard events\n   * @param {KeyboardEventListener} data\n   */\n  _proto.onKeyboard = function onKeyboard(data) {\n    var _this9 = this;\n\n    if (Array.isArray(data)) {\n      data.forEach(function (it) {\n        return _this9.onKeyboard(it);\n      });\n      return;\n    }\n\n    if (!this.keyboardListeners.includes(data)) {\n      this.keyboardListeners.push(data);\n    }\n  }\n  /**\n   * Un-listen keyboard events\n   * @param {KeyboardEventListener} data\n   */\n  ;\n\n  _proto.offKeyboard = function offKeyboard(data) {\n    var _this10 = this;\n\n    if (Array.isArray(data)) {\n      data.forEach(function (it) {\n        return _this10.offKeyboard(it);\n      });\n      return;\n    }\n\n    var index = this.keyboardListeners.indexOf(data);\n\n    if (index >= 0) {\n      this.keyboardListeners.splice(index, 1);\n    }\n  };\n\n  _proto.handleKeyDown = function handleKeyDown(e) {\n    // \n    for (var _iterator3 = _createForOfIteratorHelperLoose(this.keyboardListeners), _step3; !(_step3 = _iterator3()).done;) {\n      var it = _step3.value;\n\n      if (isKeyMatch(e, it)) {\n        e.preventDefault();\n        it.callback(e);\n        return;\n      }\n    } // \n\n\n    this.emitter.emit(this.emitter.EVENT_KEY_DOWN, e);\n  };\n\n  _proto.getEventType = function getEventType(event) {\n    switch (event) {\n      case 'change':\n        return this.emitter.EVENT_CHANGE;\n\n      case 'fullscreen':\n        return this.emitter.EVENT_FULL_SCREEN;\n\n      case 'viewchange':\n        return this.emitter.EVENT_VIEW_CHANGE;\n\n      case 'keydown':\n        return this.emitter.EVENT_KEY_DOWN;\n\n      case 'editor_keydown':\n        return this.emitter.EVENT_EDITOR_KEY_DOWN;\n\n      case 'blur':\n        return this.emitter.EVENT_BLUR;\n\n      case 'focus':\n        return this.emitter.EVENT_FOCUS;\n\n      case 'scroll':\n        return this.emitter.EVENT_SCROLL;\n    }\n  }\n  /**\n   * Listen events\n   * @param {EditorEvent} event Event type\n   * @param {any} cb Callback\n   */\n  ;\n\n  _proto.on = function on(event, cb) {\n    var eventType = this.getEventType(event);\n\n    if (eventType) {\n      this.emitter.on(eventType, cb);\n    }\n  }\n  /**\n   * Un-listen events\n   * @param {EditorEvent} event Event type\n   * @param {any} cb Callback\n   */\n  ;\n\n  _proto.off = function off(event, cb) {\n    var eventType = this.getEventType(event);\n\n    if (eventType) {\n      this.emitter.off(eventType, cb);\n    }\n  }\n  /**\n   * Set view property\n   * Can show or hide: editor, preview, menu\n   * @param {object} to\n   */\n  ;\n\n  _proto.setView = function setView(to) {\n    var _this11 = this;\n\n    var newView = _extends({}, this.state.view, to);\n\n    this.setState({\n      view: newView\n    }, function () {\n      _this11.emitter.emit(_this11.emitter.EVENT_VIEW_CHANGE, newView);\n    });\n  }\n  /**\n   * Get view property\n   * @return {object}\n   */\n  ;\n\n  _proto.getView = function getView() {\n    return _extends({}, this.state.view);\n  }\n  /**\n   * Enter or exit full screen\n   * @param {boolean} enable\n   */\n  ;\n\n  _proto.fullScreen = function fullScreen(enable) {\n    var _this12 = this;\n\n    if (this.state.fullScreen !== enable) {\n      this.setState({\n        fullScreen: enable\n      }, function () {\n        _this12.emitter.emit(_this12.emitter.EVENT_FULL_SCREEN, enable);\n      });\n    }\n  }\n  /**\n   * Register a plugin API\n   * @param {string} name API name\n   * @param {any} cb callback\n   */\n  ;\n\n  _proto.registerPluginApi = function registerPluginApi(name, cb) {\n    this.pluginApis.set(name, cb);\n  };\n\n  _proto.unregisterPluginApi = function unregisterPluginApi(name) {\n    this.pluginApis.delete(name);\n  }\n  /**\n   * Call a plugin API\n   * @param {string} name API name\n   * @param {any} others arguments\n   * @returns {any}\n   */\n  ;\n\n  _proto.callPluginApi = function callPluginApi(name) {\n    var handler = this.pluginApis.get(name);\n\n    if (!handler) {\n      throw new Error(\"API \" + name + \" not found\");\n    }\n\n    for (var _len = arguments.length, others = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      others[_key - 1] = arguments[_key];\n    }\n\n    return handler.apply(void 0, others);\n  }\n  /**\n   * Is full screen\n   * @return {boolean}\n   */\n  ;\n\n  _proto.isFullScreen = function isFullScreen() {\n    return this.state.fullScreen;\n  };\n\n  _proto.uploadWithDataTransfer = function uploadWithDataTransfer(items) {\n    var _this13 = this;\n\n    var onImageUpload = this.config.onImageUpload;\n\n    if (!onImageUpload) {\n      return;\n    }\n\n    var queue = [];\n    Array.prototype.forEach.call(items, function (it) {\n      if (it.kind === 'file' && it.type.includes('image')) {\n        var file = it.getAsFile();\n\n        if (file) {\n          var placeholder = getUploadPlaceholder(file, onImageUpload);\n          queue.push(Promise.resolve(placeholder.placeholder));\n          placeholder.uploaded.then(function (str) {\n            var text = _this13.getMdValue().replace(placeholder.placeholder, str);\n\n            var offset = str.length - placeholder.placeholder.length; // \n\n            var selection = _this13.getSelection();\n\n            _this13.setText(text, undefined, {\n              start: selection.start + offset,\n              end: selection.start + offset\n            });\n          });\n        }\n      } else if (it.kind === 'string' && it.type === 'text/plain') {\n        queue.push(new Promise(function (resolve) {\n          return it.getAsString(resolve);\n        }));\n      }\n    });\n    Promise.all(queue).then(function (res) {\n      var text = res.join('');\n\n      var selection = _this13.getSelection();\n\n      _this13.insertText(text, true, {\n        start: selection.start === selection.end ? text.length : 0,\n        end: text.length\n      });\n    });\n  };\n\n  _proto.render = function render() {\n    var _this14 = this;\n\n    var _this$state = this.state,\n        view = _this$state.view,\n        fullScreen = _this$state.fullScreen,\n        text = _this$state.text,\n        html = _this$state.html;\n    var _this$props = this.props,\n        id = _this$props.id,\n        _this$props$className = _this$props.className,\n        className = _this$props$className === void 0 ? '' : _this$props$className,\n        style = _this$props.style,\n        _this$props$name = _this$props.name,\n        name = _this$props$name === void 0 ? 'textarea' : _this$props$name,\n        autoFocus = _this$props.autoFocus,\n        placeholder = _this$props.placeholder,\n        readOnly = _this$props.readOnly;\n    var showHideMenu = this.config.canView && this.config.canView.hideMenu && !this.config.canView.menu;\n\n    var getPluginAt = function getPluginAt(at) {\n      return _this14.state.plugins[at] || [];\n    };\n\n    var isShowMenu = !!view.menu;\n    var editorId = id ? id + \"_md\" : undefined;\n    var previewerId = id ? id + \"_html\" : undefined;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: id,\n      className: \"rc-md-editor \" + (fullScreen ? 'full' : '') + \" \" + className,\n      style: style,\n      onKeyDown: this.handleKeyDown,\n      onDrop: this.handleDrop\n    }, /*#__PURE__*/React.createElement(NavigationBar, {\n      visible: isShowMenu,\n      left: getPluginAt('left'),\n      right: getPluginAt('right')\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"editor-container\"\n    }, showHideMenu && /*#__PURE__*/React.createElement(ToolBar, null, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"button button-type-menu\",\n      title: isShowMenu ? 'hidden menu' : 'show menu',\n      onClick: this.handleToggleMenu\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"expand-\" + (isShowMenu ? 'less' : 'more')\n    }))), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"section sec-md \" + (view.md ? 'visible' : 'in-visible')\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      id: editorId,\n      ref: this.nodeMdText,\n      name: name,\n      autoFocus: autoFocus,\n      placeholder: placeholder,\n      readOnly: readOnly,\n      value: text,\n      className: \"section-container input \" + (this.config.markdownClass || ''),\n      wrap: \"hard\",\n      onChange: this.handleChange,\n      onScroll: this.handleInputScroll,\n      onMouseOver: function onMouseOver() {\n        return _this14.shouldSyncScroll = 'md';\n      },\n      onKeyDown: this.handleEditorKeyDown,\n      onCompositionStart: function onCompositionStart() {\n        return _this14.composing = true;\n      },\n      onCompositionEnd: function onCompositionEnd() {\n        return _this14.composing = false;\n      },\n      onPaste: this.handlePaste,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur\n    })), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"section sec-html \" + (view.html ? 'visible' : 'in-visible')\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: previewerId,\n      className: \"section-container html-wrap\",\n      ref: this.nodeMdPreviewWrapper,\n      onMouseOver: function onMouseOver() {\n        return _this14.shouldSyncScroll = 'html';\n      },\n      onScroll: this.handlePreviewScroll\n    }, /*#__PURE__*/React.createElement(HtmlRender, {\n      html: html,\n      className: this.config.htmlClass,\n      ref: this.nodeMdPreview\n    })))));\n  };\n\n  return Editor;\n}(React.Component);\n\nEditor.plugins = [];\nEditor.addLocale = i18n.add.bind(i18n);\nEditor.useLocale = i18n.setCurrent.bind(i18n);\nEditor.getLocale = i18n.getCurrent.bind(i18n);\nexport default Editor;","import _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nimport { PluginComponent } from './Plugin';\n\nvar AutoResize = /*#__PURE__*/function (_PluginComponent) {\n  _inheritsLoose(AutoResize, _PluginComponent);\n\n  function AutoResize(props) {\n    var _this;\n\n    _this = _PluginComponent.call(this, props) || this;\n    _this.timer = null;\n    _this.useTimer = _this.getConfig('useTimer') || typeof requestAnimationFrame === 'undefined';\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.doResize = _this.doResize.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = AutoResize.prototype;\n\n  _proto.doResize = function doResize() {\n    var _this2 = this;\n\n    var resizeElement = function resizeElement(e) {\n      e.style.height = 'auto';\n      var height = Math.min(Math.max(_this2.getConfig('min'), e.scrollHeight), _this2.getConfig('max'));\n      e.style.height = height + \"px\";\n      return height;\n    };\n\n    this.timer = null; // \n\n    var view = this.editor.getView();\n    var el = this.editor.getMdElement();\n    var previewer = this.editor.getHtmlElement();\n\n    if (el && view.md) {\n      var height = resizeElement(el);\n\n      if (previewer) {\n        previewer.style.height = height + \"px\";\n      }\n\n      return;\n    } // \n\n\n    if (previewer && view.html) {\n      resizeElement(previewer);\n    }\n  };\n\n  _proto.handleChange = function handleChange() {\n    if (this.timer !== null) {\n      return;\n    }\n\n    if (this.useTimer) {\n      this.timer = window.setTimeout(this.doResize);\n      return;\n    }\n\n    this.timer = requestAnimationFrame(this.doResize);\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.editor.on('change', this.handleChange);\n    this.editor.on('viewchange', this.handleChange);\n    this.handleChange();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.editor.off('change', this.handleChange);\n    this.editor.off('viewchange', this.handleChange);\n\n    if (this.timer !== null && this.useTimer) {\n      window.clearTimeout(this.timer);\n      this.timer = null;\n    }\n  };\n\n  _proto.render = function render() {\n    return /*#__PURE__*/React.createElement(\"span\", null);\n  };\n\n  return AutoResize;\n}(PluginComponent);\n\nAutoResize.pluginName = 'auto-resize';\nAutoResize.align = 'left';\nAutoResize.defaultConfig = {\n  min: 200,\n  max: Infinity,\n  useTimer: false\n};\nexport { AutoResize as default };","import _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nimport Icon from '../../components/Icon';\nimport i18n from '../../i18n';\nimport { PluginComponent } from '../Plugin';\n\nvar BlockCodeBlock = /*#__PURE__*/function (_PluginComponent) {\n  _inheritsLoose(BlockCodeBlock, _PluginComponent);\n\n  function BlockCodeBlock() {\n    return _PluginComponent.apply(this, arguments) || this;\n  }\n\n  var _proto = BlockCodeBlock.prototype;\n\n  _proto.render = function render() {\n    var _this = this;\n\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"button button-type-code-block\",\n      title: i18n.get('btnCode'),\n      onClick: function onClick() {\n        return _this.editor.insertMarkdown('code');\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"code-block\"\n    }));\n  };\n\n  return BlockCodeBlock;\n}(PluginComponent);\n\nBlockCodeBlock.pluginName = 'block-code-block';\nexport { BlockCodeBlock as default };","import _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nimport Icon from '../../components/Icon';\nimport i18n from '../../i18n';\nimport { PluginComponent } from '../Plugin';\n\nvar BlockCodeInline = /*#__PURE__*/function (_PluginComponent) {\n  _inheritsLoose(BlockCodeInline, _PluginComponent);\n\n  function BlockCodeInline() {\n    return _PluginComponent.apply(this, arguments) || this;\n  }\n\n  var _proto = BlockCodeInline.prototype;\n\n  _proto.render = function render() {\n    var _this = this;\n\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"button button-type-code-inline\",\n      title: i18n.get('btnInlineCode'),\n      onClick: function onClick() {\n        return _this.editor.insertMarkdown('inlinecode');\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"code\"\n    }));\n  };\n\n  return BlockCodeInline;\n}(PluginComponent);\n\nBlockCodeInline.pluginName = 'block-code-inline';\nexport { BlockCodeInline as default };","import _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nimport Icon from '../../components/Icon';\nimport i18n from '../../i18n';\nimport { PluginComponent } from '../Plugin';\n\nvar BlockQuote = /*#__PURE__*/function (_PluginComponent) {\n  _inheritsLoose(BlockQuote, _PluginComponent);\n\n  function BlockQuote() {\n    return _PluginComponent.apply(this, arguments) || this;\n  }\n\n  var _proto = BlockQuote.prototype;\n\n  _proto.render = function render() {\n    var _this = this;\n\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"button button-type-quote\",\n      title: i18n.get('btnQuote'),\n      onClick: function onClick() {\n        return _this.editor.insertMarkdown('quote');\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"quote\"\n    }));\n  };\n\n  return BlockQuote;\n}(PluginComponent);\n\nBlockQuote.pluginName = 'block-quote';\nexport { BlockQuote as default };","import _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nimport Icon from '../../components/Icon';\nimport i18n from '../../i18n';\nimport { PluginComponent } from '../Plugin';\n\nvar BlockWrap = /*#__PURE__*/function (_PluginComponent) {\n  _inheritsLoose(BlockWrap, _PluginComponent);\n\n  function BlockWrap() {\n    return _PluginComponent.apply(this, arguments) || this;\n  }\n\n  var _proto = BlockWrap.prototype;\n\n  _proto.render = function render() {\n    var _this = this;\n\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"button button-type-wrap\",\n      title: i18n.get('btnLineBreak'),\n      onClick: function onClick() {\n        return _this.editor.insertMarkdown('hr');\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"wrap\"\n    }));\n  };\n\n  return BlockWrap;\n}(PluginComponent);\n\nBlockWrap.pluginName = 'block-wrap';\nexport { BlockWrap as default };","import _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nimport Icon from '../components/Icon';\nimport i18n from '../i18n';\nimport { PluginComponent } from './Plugin';\n\nvar Clear = /*#__PURE__*/function (_PluginComponent) {\n  _inheritsLoose(Clear, _PluginComponent);\n\n  function Clear(props) {\n    var _this;\n\n    _this = _PluginComponent.call(this, props) || this;\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = Clear.prototype;\n\n  _proto.handleClick = function handleClick() {\n    if (this.editor.getMdValue() === '') {\n      return;\n    }\n\n    if (window.confirm && typeof window.confirm === 'function') {\n      var result = window.confirm(i18n.get('clearTip'));\n\n      if (result) {\n        this.editor.setText('');\n      }\n    }\n  };\n\n  _proto.render = function render() {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"button button-type-clear\",\n      title: i18n.get('btnClear'),\n      onClick: this.handleClick\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"delete\"\n    }));\n  };\n\n  return Clear;\n}(PluginComponent);\n\nClear.pluginName = 'clear';\nexport { Clear as default };","import _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nimport Icon from '../../components/Icon';\nimport i18n from '../../i18n';\nimport { PluginComponent } from '../Plugin';\n\nvar FontBold = /*#__PURE__*/function (_PluginComponent) {\n  _inheritsLoose(FontBold, _PluginComponent);\n\n  function FontBold(props) {\n    var _this;\n\n    _this = _PluginComponent.call(this, props) || this;\n    _this.handleKeyboard = {\n      key: 'b',\n      keyCode: 66,\n      aliasCommand: true,\n      withKey: ['ctrlKey'],\n      callback: function callback() {\n        return _this.editor.insertMarkdown('bold');\n      }\n    };\n    return _this;\n  }\n\n  var _proto = FontBold.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.editorConfig.shortcuts) {\n      this.editor.onKeyboard(this.handleKeyboard);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.editor.offKeyboard(this.handleKeyboard);\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"button button-type-bold\",\n      title: i18n.get('btnBold'),\n      onClick: function onClick() {\n        return _this2.editor.insertMarkdown('bold');\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"bold\"\n    }));\n  };\n\n  return FontBold;\n}(PluginComponent);\n\nFontBold.pluginName = 'font-bold';\nexport { FontBold as default };","import _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nimport Icon from '../../components/Icon';\nimport i18n from '../../i18n';\nimport { PluginComponent } from '../Plugin';\n\nvar FontItalic = /*#__PURE__*/function (_PluginComponent) {\n  _inheritsLoose(FontItalic, _PluginComponent);\n\n  function FontItalic(props) {\n    var _this;\n\n    _this = _PluginComponent.call(this, props) || this;\n    _this.handleKeyboard = {\n      key: 'i',\n      keyCode: 73,\n      aliasCommand: true,\n      withKey: ['ctrlKey'],\n      callback: function callback() {\n        return _this.editor.insertMarkdown('italic');\n      }\n    };\n    return _this;\n  }\n\n  var _proto = FontItalic.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.editorConfig.shortcuts) {\n      this.editor.onKeyboard(this.handleKeyboard);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.editor.offKeyboard(this.handleKeyboard);\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"button button-type-italic\",\n      title: i18n.get('btnItalic'),\n      onClick: function onClick() {\n        return _this2.editor.insertMarkdown('italic');\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"italic\"\n    }));\n  };\n\n  return FontItalic;\n}(PluginComponent);\n\nFontItalic.pluginName = 'font-italic';\nexport { FontItalic as default };","import _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nimport Icon from '../../components/Icon';\nimport i18n from '../../i18n';\nimport { PluginComponent } from '../Plugin';\n\nvar FontStrikethrough = /*#__PURE__*/function (_PluginComponent) {\n  _inheritsLoose(FontStrikethrough, _PluginComponent);\n\n  function FontStrikethrough(props) {\n    var _this;\n\n    _this = _PluginComponent.call(this, props) || this;\n    _this.handleKeyboard = {\n      key: 'd',\n      keyCode: 68,\n      aliasCommand: true,\n      withKey: ['ctrlKey'],\n      callback: function callback() {\n        return _this.editor.insertMarkdown('strikethrough');\n      }\n    };\n    return _this;\n  }\n\n  var _proto = FontStrikethrough.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.editorConfig.shortcuts) {\n      this.editor.onKeyboard(this.handleKeyboard);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.editor.offKeyboard(this.handleKeyboard);\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"button button-type-strikethrough\",\n      title: i18n.get('btnStrikethrough'),\n      onClick: function onClick() {\n        return _this2.editor.insertMarkdown('strikethrough');\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"strikethrough\"\n    }));\n  };\n\n  return FontStrikethrough;\n}(PluginComponent);\n\nFontStrikethrough.pluginName = 'font-strikethrough';\nexport { FontStrikethrough as default };","import _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nimport Icon from '../../components/Icon';\nimport i18n from '../../i18n';\nimport { PluginComponent } from '../Plugin';\n\nvar FontUnderline = /*#__PURE__*/function (_PluginComponent) {\n  _inheritsLoose(FontUnderline, _PluginComponent);\n\n  function FontUnderline(props) {\n    var _this;\n\n    _this = _PluginComponent.call(this, props) || this;\n    _this.handleKeyboard = {\n      key: 'u',\n      keyCode: 85,\n      withKey: ['ctrlKey'],\n      callback: function callback() {\n        return _this.editor.insertMarkdown('underline');\n      }\n    };\n    return _this;\n  }\n\n  var _proto = FontUnderline.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.editorConfig.shortcuts) {\n      this.editor.onKeyboard(this.handleKeyboard);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.editor.offKeyboard(this.handleKeyboard);\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"button button-type-underline\",\n      title: i18n.get('btnUnderline'),\n      onClick: function onClick() {\n        return _this2.editor.insertMarkdown('underline');\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"underline\"\n    }));\n  };\n\n  return FontUnderline;\n}(PluginComponent);\n\nFontUnderline.pluginName = 'font-underline';\nexport { FontUnderline as default };","import _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nimport Icon from '../components/Icon';\nimport i18n from '../i18n';\nimport { PluginComponent } from './Plugin';\n\nvar FullScreen = /*#__PURE__*/function (_PluginComponent) {\n  _inheritsLoose(FullScreen, _PluginComponent);\n\n  function FullScreen(props) {\n    var _this;\n\n    _this = _PluginComponent.call(this, props) || this;\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_this));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.state = {\n      enable: _this.editor.isFullScreen()\n    };\n    return _this;\n  }\n\n  var _proto = FullScreen.prototype;\n\n  _proto.handleClick = function handleClick() {\n    this.editor.fullScreen(!this.state.enable);\n  };\n\n  _proto.handleChange = function handleChange(enable) {\n    this.setState({\n      enable: enable\n    });\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.editor.on('fullscreen', this.handleChange);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.editor.off('fullscreen', this.handleChange);\n  };\n\n  _proto.render = function render() {\n    if (this.editorConfig.canView && this.editorConfig.canView.fullScreen) {\n      var enable = this.state.enable;\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: \"button button-type-fullscreen\",\n        title: i18n.get(enable ? 'btnExitFullScreen' : 'btnFullScreen'),\n        onClick: this.handleClick\n      }, /*#__PURE__*/React.createElement(Icon, {\n        type: enable ? 'fullscreen-exit' : 'fullscreen'\n      }));\n    }\n\n    return null;\n  };\n\n  return FullScreen;\n}(PluginComponent);\n\nFullScreen.pluginName = 'full-screen';\nFullScreen.align = 'right';\nexport { FullScreen as default };","import _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\n\nvar DropList = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(DropList, _React$Component);\n\n  function DropList(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.handleClose = _this.handleClose.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = DropList.prototype;\n\n  _proto.handleClose = function handleClose(e) {\n    e.stopPropagation();\n    var onClose = this.props.onClose;\n\n    if (typeof onClose === 'function') {\n      onClose();\n    }\n  };\n\n  _proto.render = function render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"drop-wrap \" + (this.props.show ? 'show' : 'hidden'),\n      onClick: this.handleClose\n    }, this.props.children);\n  };\n\n  return DropList;\n}(React.Component);\n\nexport default DropList;","import _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\n// HeaderList\nimport * as React from 'react';\n\nvar HeaderList = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(HeaderList, _React$Component);\n\n  function HeaderList() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = HeaderList.prototype;\n\n  _proto.handleHeader = function handleHeader(header) {\n    var onSelectHeader = this.props.onSelectHeader;\n\n    if (typeof onSelectHeader === 'function') {\n      onSelectHeader(header);\n    }\n  };\n\n  _proto.render = function render() {\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"header-list\"\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-item\"\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      onClick: this.handleHeader.bind(this, 'h1')\n    }, \"H1\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-item\"\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      onClick: this.handleHeader.bind(this, 'h2')\n    }, \"H2\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-item\"\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      onClick: this.handleHeader.bind(this, 'h3')\n    }, \"H3\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-item\"\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      onClick: this.handleHeader.bind(this, 'h4')\n    }, \"H4\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-item\"\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      onClick: this.handleHeader.bind(this, 'h5')\n    }, \"H5\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-item\"\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      onClick: this.handleHeader.bind(this, 'h6')\n    }, \"H6\")));\n  };\n\n  return HeaderList;\n}(React.Component);\n\nexport default HeaderList;","import _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nimport DropList from '../../components/DropList';\nimport Icon from '../../components/Icon';\nimport i18n from '../../i18n';\nimport { PluginComponent } from '../Plugin';\nimport HeaderList from './HeaderList';\n\nvar Header = /*#__PURE__*/function (_PluginComponent) {\n  _inheritsLoose(Header, _PluginComponent);\n\n  function Header(props) {\n    var _this;\n\n    _this = _PluginComponent.call(this, props) || this;\n    _this.show = _this.show.bind(_assertThisInitialized(_this));\n    _this.hide = _this.hide.bind(_assertThisInitialized(_this));\n    _this.state = {\n      show: false\n    };\n    return _this;\n  }\n\n  var _proto = Header.prototype;\n\n  _proto.show = function show() {\n    this.setState({\n      show: true\n    });\n  };\n\n  _proto.hide = function hide() {\n    this.setState({\n      show: false\n    });\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"button button-type-header\",\n      title: i18n.get('btnHeader'),\n      onMouseEnter: this.show,\n      onMouseLeave: this.hide\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"font-size\"\n    }), /*#__PURE__*/React.createElement(DropList, {\n      show: this.state.show,\n      onClose: this.hide\n    }, /*#__PURE__*/React.createElement(HeaderList, {\n      onSelectHeader: function onSelectHeader(header) {\n        return _this2.editor.insertMarkdown(header);\n      }\n    })));\n  };\n\n  return Header;\n}(PluginComponent);\n\nHeader.pluginName = 'header';\nexport { Header as default };","import _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\n// TableList\nimport * as React from 'react';\n\nvar InputFile = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(InputFile, _React$Component);\n\n  function InputFile(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.timerId = undefined;\n    _this.locked = false;\n    _this.input = /*#__PURE__*/React.createRef();\n    return _this;\n  }\n\n  var _proto = InputFile.prototype;\n\n  _proto.click = function click() {\n    var _this2 = this;\n\n    if (this.locked || !this.input.current) {\n      return;\n    }\n\n    this.locked = true;\n    this.input.current.value = '';\n    this.input.current.click();\n\n    if (this.timerId) {\n      window.clearTimeout(this.timerId);\n    }\n\n    this.timerId = window.setTimeout(function () {\n      _this2.locked = false;\n      window.clearTimeout(_this2.timerId);\n      _this2.timerId = undefined;\n    }, 200);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.timerId) {\n      window.clearTimeout(this.timerId);\n    }\n  };\n\n  _proto.render = function render() {\n    return /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      ref: this.input,\n      accept: this.props.accept,\n      style: {\n        position: 'absolute',\n        zIndex: -1,\n        left: 0,\n        top: 0,\n        width: 0,\n        height: 0,\n        opacity: 0\n      },\n      onChange: this.props.onChange\n    });\n  };\n\n  return InputFile;\n}(React.Component);\n\nexport default InputFile;","import _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nimport Icon from '../../components/Icon';\nimport i18n from '../../i18n';\nimport { PluginComponent } from '../Plugin';\nimport { isPromise } from '../../utils/tool';\nimport getUploadPlaceholder from '../../utils/uploadPlaceholder';\nimport InputFile from './inputFile';\n\nvar Image = /*#__PURE__*/function (_PluginComponent) {\n  _inheritsLoose(Image, _PluginComponent);\n\n  function Image(props) {\n    var _this;\n\n    _this = _PluginComponent.call(this, props) || this;\n    _this.inputFile = /*#__PURE__*/React.createRef();\n    _this.onImageChanged = _this.onImageChanged.bind(_assertThisInitialized(_this));\n    _this.handleCustomImageUpload = _this.handleCustomImageUpload.bind(_assertThisInitialized(_this));\n    _this.handleImageUpload = _this.handleImageUpload.bind(_assertThisInitialized(_this));\n    _this.state = {\n      show: false\n    };\n    return _this;\n  }\n\n  var _proto = Image.prototype;\n\n  _proto.handleImageUpload = function handleImageUpload() {\n    var onImageUpload = this.editorConfig.onImageUpload;\n\n    if (typeof onImageUpload === 'function') {\n      if (this.inputFile.current) {\n        this.inputFile.current.click();\n      }\n    } else {\n      this.editor.insertMarkdown('image');\n    }\n  };\n\n  _proto.onImageChanged = function onImageChanged(file) {\n    var onImageUpload = this.editorConfig.onImageUpload;\n\n    if (onImageUpload) {\n      var placeholder = getUploadPlaceholder(file, onImageUpload);\n      this.editor.insertPlaceholder(placeholder.placeholder, placeholder.uploaded);\n    }\n  };\n\n  _proto.handleCustomImageUpload = function handleCustomImageUpload(e) {\n    var _this2 = this;\n\n    var onCustomImageUpload = this.editorConfig.onCustomImageUpload;\n\n    if (onCustomImageUpload) {\n      var res = onCustomImageUpload.call(this, e);\n\n      if (isPromise(res)) {\n        res.then(function (result) {\n          if (result && result.url) {\n            _this2.editor.insertMarkdown('image', {\n              target: result.text,\n              imageUrl: result.url\n            });\n          }\n        });\n      }\n    }\n  };\n\n  _proto.render = function render() {\n    var _this3 = this;\n\n    var isCustom = !!this.editorConfig.onCustomImageUpload;\n    return isCustom ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"button button-type-image\",\n      title: i18n.get('btnImage'),\n      onClick: this.handleCustomImageUpload\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"image\"\n    })) : /*#__PURE__*/React.createElement(\"span\", {\n      className: \"button button-type-image\",\n      title: i18n.get('btnImage'),\n      onClick: this.handleImageUpload,\n      style: {\n        position: 'relative'\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"image\"\n    }), /*#__PURE__*/React.createElement(InputFile, {\n      accept: this.editorConfig.imageAccept || '',\n      ref: this.inputFile,\n      onChange: function onChange(e) {\n        e.persist();\n\n        if (e.target.files && e.target.files.length > 0) {\n          _this3.onImageChanged(e.target.files[0]);\n        }\n      }\n    }));\n  };\n\n  return Image;\n}(PluginComponent);\n\nImage.pluginName = 'image';\nexport { Image as default };","import _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nimport Icon from '../components/Icon';\nimport i18n from '../i18n';\nimport { PluginComponent } from './Plugin';\n\nvar Link = /*#__PURE__*/function (_PluginComponent) {\n  _inheritsLoose(Link, _PluginComponent);\n\n  function Link(props) {\n    var _this;\n\n    _this = _PluginComponent.call(this, props) || this;\n    _this.handleKeyboard = {\n      key: 'k',\n      keyCode: 75,\n      aliasCommand: true,\n      withKey: ['ctrlKey'],\n      callback: function callback() {\n        return _this.editor.insertMarkdown('link');\n      }\n    };\n    return _this;\n  }\n\n  var _proto = Link.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.editorConfig.shortcuts) {\n      this.editor.onKeyboard(this.handleKeyboard);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.editor.offKeyboard(this.handleKeyboard);\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"button button-type-link\",\n      title: i18n.get('btnLink'),\n      onClick: function onClick() {\n        return _this2.editor.insertMarkdown('link');\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"link\"\n    }));\n  };\n\n  return Link;\n}(PluginComponent);\n\nLink.pluginName = 'link';\nexport { Link as default };","import _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nimport Icon from '../../components/Icon';\nimport i18n from '../../i18n';\nimport { PluginComponent } from '../Plugin';\n\nvar ListOrdered = /*#__PURE__*/function (_PluginComponent) {\n  _inheritsLoose(ListOrdered, _PluginComponent);\n\n  function ListOrdered(props) {\n    var _this;\n\n    _this = _PluginComponent.call(this, props) || this;\n    _this.handleKeyboard = {\n      key: '7',\n      keyCode: 55,\n      withKey: ['ctrlKey', 'shiftKey'],\n      aliasCommand: true,\n      callback: function callback() {\n        return _this.editor.insertMarkdown('order');\n      }\n    };\n    return _this;\n  }\n\n  var _proto = ListOrdered.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.editorConfig.shortcuts) {\n      this.editor.onKeyboard(this.handleKeyboard);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.editor.offKeyboard(this.handleKeyboard);\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"button button-type-ordered\",\n      title: i18n.get('btnOrdered'),\n      onClick: function onClick() {\n        return _this2.editor.insertMarkdown('order');\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"list-ordered\"\n    }));\n  };\n\n  return ListOrdered;\n}(PluginComponent);\n\nListOrdered.pluginName = 'list-ordered';\nexport { ListOrdered as default };","import _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nimport Icon from '../../components/Icon';\nimport i18n from '../../i18n';\nimport { PluginComponent } from '../Plugin';\n\nvar ListUnordered = /*#__PURE__*/function (_PluginComponent) {\n  _inheritsLoose(ListUnordered, _PluginComponent);\n\n  function ListUnordered(props) {\n    var _this;\n\n    _this = _PluginComponent.call(this, props) || this;\n    _this.handleKeyboard = {\n      key: '8',\n      keyCode: 56,\n      withKey: ['ctrlKey', 'shiftKey'],\n      aliasCommand: true,\n      callback: function callback() {\n        return _this.editor.insertMarkdown('unordered');\n      }\n    };\n    return _this;\n  }\n\n  var _proto = ListUnordered.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.editorConfig.shortcuts) {\n      this.editor.onKeyboard(this.handleKeyboard);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.editor.offKeyboard(this.handleKeyboard);\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"button button-type-unordered\",\n      title: i18n.get('btnUnordered'),\n      onClick: function onClick() {\n        return _this2.editor.insertMarkdown('unordered');\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"list-unordered\"\n    }));\n  };\n\n  return ListUnordered;\n}(PluginComponent);\n\nListUnordered.pluginName = 'list-unordered';\nexport { ListUnordered as default };","/**\n * logger: undo redo\n */\nvar MAX_LOG_SIZE = 100;\n\nvar Logger = /*#__PURE__*/function () {\n  function Logger(props) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    this.record = [];\n    this.recycle = [];\n    this.initValue = '';\n    var _props = props,\n        _props$maxSize = _props.maxSize,\n        maxSize = _props$maxSize === void 0 ? MAX_LOG_SIZE : _props$maxSize;\n    this.maxSize = maxSize;\n  }\n\n  var _proto = Logger.prototype;\n\n  _proto.push = function push(val) {\n    var result = this.record.push(val); // \n\n    while (this.record.length > this.maxSize) {\n      this.record.shift();\n    }\n\n    return result;\n  };\n\n  _proto.get = function get() {\n    return this.record;\n  };\n\n  _proto.getLast = function getLast() {\n    var length = this.record.length;\n    return this.record[length - 1];\n  };\n\n  _proto.undo = function undo(skipText) {\n    var current = this.record.pop();\n\n    if (typeof current === 'undefined') {\n      return this.initValue;\n    } // pop\n\n\n    if (current !== skipText) {\n      this.recycle.push(current);\n      return current;\n    } // pop\n\n\n    var last = this.record.pop();\n\n    if (typeof last === 'undefined') {\n      // \n      this.recycle.push(current);\n      return this.initValue;\n    } // last \n\n\n    this.recycle.push(current);\n    return last;\n  };\n\n  _proto.redo = function redo() {\n    var history = this.recycle.pop();\n\n    if (typeof history !== 'undefined') {\n      this.push(history);\n      return history;\n    }\n\n    return undefined;\n  };\n\n  _proto.cleanRedo = function cleanRedo() {\n    this.recycle = [];\n  };\n\n  _proto.getUndoCount = function getUndoCount() {\n    return this.undo.length;\n  };\n\n  _proto.getRedoCount = function getRedoCount() {\n    return this.recycle.length;\n  };\n\n  return Logger;\n}();\n\nexport default Logger;","import _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nimport Icon from '../components/Icon';\nimport i18n from '../i18n';\nimport { PluginComponent } from './Plugin';\nvar NEXT_ACTION;\n\n(function (NEXT_ACTION) {\n  NEXT_ACTION[NEXT_ACTION[\"SHOW_ALL\"] = 0] = \"SHOW_ALL\";\n  NEXT_ACTION[NEXT_ACTION[\"SHOW_MD\"] = 1] = \"SHOW_MD\";\n  NEXT_ACTION[NEXT_ACTION[\"SHOW_HTML\"] = 2] = \"SHOW_HTML\";\n})(NEXT_ACTION || (NEXT_ACTION = {}));\n\nvar ModeToggle = /*#__PURE__*/function (_PluginComponent) {\n  _inheritsLoose(ModeToggle, _PluginComponent);\n\n  function ModeToggle(props) {\n    var _this;\n\n    _this = _PluginComponent.call(this, props) || this;\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_this));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.state = {\n      view: _this.editor.getView()\n    };\n    return _this;\n  }\n\n  var _proto = ModeToggle.prototype;\n\n  _proto.handleClick = function handleClick() {\n    switch (this.next) {\n      case NEXT_ACTION.SHOW_ALL:\n        this.editor.setView({\n          html: true,\n          md: true\n        });\n        break;\n\n      case NEXT_ACTION.SHOW_HTML:\n        this.editor.setView({\n          html: true,\n          md: false\n        });\n        break;\n\n      case NEXT_ACTION.SHOW_MD:\n        this.editor.setView({\n          html: false,\n          md: true\n        });\n        break;\n    }\n  };\n\n  _proto.handleChange = function handleChange(view) {\n    this.setState({\n      view: view\n    });\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.editor.on('viewchange', this.handleChange);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.editor.off('viewchange', this.handleChange);\n  };\n\n  _proto.getDisplayInfo = function getDisplayInfo() {\n    var next = this.next;\n\n    switch (next) {\n      case NEXT_ACTION.SHOW_ALL:\n        return {\n          icon: 'view-split',\n          title: 'All'\n        };\n\n      case NEXT_ACTION.SHOW_HTML:\n        return {\n          icon: 'visibility',\n          title: 'Preview'\n        };\n\n      default:\n        return {\n          icon: 'keyboard',\n          title: 'Editor'\n        };\n    }\n  };\n\n  _proto.render = function render() {\n    if (this.isDisplay) {\n      var display = this.getDisplayInfo();\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: \"button button-type-mode\",\n        title: i18n.get(\"btnMode\" + display.title),\n        onClick: this.handleClick\n      }, /*#__PURE__*/React.createElement(Icon, {\n        type: display.icon\n      }));\n    }\n\n    return null;\n  };\n\n  _createClass(ModeToggle, [{\n    key: \"isDisplay\",\n    get: function get() {\n      var canView = this.editorConfig.canView;\n\n      if (canView) {\n        // \n        return [canView.html, canView.md, canView.both].filter(function (it) {\n          return it;\n        }).length >= 2;\n      }\n\n      return false;\n    }\n    /**\n     * \n     * MDHTML\n     * HTML\n     * MDHTMLMD\n     * canView\n     * \n     */\n\n  }, {\n    key: \"next\",\n    get: function get() {\n      var canView = this.editorConfig.canView;\n      var view = this.state.view;\n      var actions = [NEXT_ACTION.SHOW_ALL, NEXT_ACTION.SHOW_MD, NEXT_ACTION.SHOW_HTML];\n\n      if (canView) {\n        if (!canView.both) {\n          actions.splice(actions.indexOf(NEXT_ACTION.SHOW_ALL), 1);\n        }\n\n        if (!canView.md) {\n          actions.splice(actions.indexOf(NEXT_ACTION.SHOW_MD), 1);\n        }\n\n        if (!canView.html) {\n          actions.splice(actions.indexOf(NEXT_ACTION.SHOW_HTML), 1);\n        }\n      }\n\n      var current = NEXT_ACTION.SHOW_MD;\n\n      if (view.html) {\n        current = NEXT_ACTION.SHOW_HTML;\n      }\n\n      if (view.html && view.md) {\n        current = NEXT_ACTION.SHOW_ALL;\n      }\n\n      if (actions.length === 0) return current;\n      if (actions.length === 1) return actions[0];\n      var index = actions.indexOf(current);\n      return index < actions.length - 1 ? actions[index + 1] : actions[0];\n    }\n  }]);\n\n  return ModeToggle;\n}(PluginComponent);\n\nModeToggle.pluginName = 'mode-toggle';\nModeToggle.align = 'right';\nexport default ModeToggle;","import _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nimport Icon from '../../components/Icon';\nimport i18n from '../../i18n';\nimport { PluginComponent } from '../Plugin';\nimport LoggerPlugin from './logger';\n\nvar Logger = /*#__PURE__*/function (_PluginComponent) {\n  _inheritsLoose(Logger, _PluginComponent);\n\n  function Logger(props) {\n    var _this;\n\n    _this = _PluginComponent.call(this, props) || this;\n    _this.handleKeyboards = [];\n    _this.lastPop = null;\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.handleRedo = _this.handleRedo.bind(_assertThisInitialized(_this));\n    _this.handleUndo = _this.handleUndo.bind(_assertThisInitialized(_this)); // MacRedoCommand+Shift+Z\n\n    _this.handleKeyboards = [{\n      key: 'y',\n      keyCode: 89,\n      withKey: ['ctrlKey'],\n      callback: _this.handleRedo\n    }, {\n      key: 'z',\n      keyCode: 90,\n      withKey: ['metaKey', 'shiftKey'],\n      callback: _this.handleRedo\n    }, {\n      key: 'z',\n      keyCode: 90,\n      aliasCommand: true,\n      withKey: ['ctrlKey'],\n      callback: _this.handleUndo\n    }];\n    _this.logger = new LoggerPlugin({\n      maxSize: _this.editorConfig.loggerMaxSize\n    }); // API\n\n    _this.editor.registerPluginApi('undo', _this.handleUndo);\n\n    _this.editor.registerPluginApi('redo', _this.handleRedo);\n\n    return _this;\n  }\n\n  var _proto = Logger.prototype;\n\n  _proto.handleUndo = function handleUndo() {\n    var last = this.logger.undo(this.editor.getMdValue());\n\n    if (typeof last !== 'undefined') {\n      this.pause();\n      this.lastPop = last;\n      this.editor.setText(last);\n      this.forceUpdate();\n    }\n  };\n\n  _proto.handleRedo = function handleRedo() {\n    var last = this.logger.redo();\n\n    if (typeof last !== 'undefined') {\n      this.lastPop = last;\n      this.editor.setText(last);\n      this.forceUpdate();\n    }\n  };\n\n  _proto.handleChange = function handleChange(value, e, isNotInput) {\n    var _this2 = this;\n\n    if (this.logger.getLast() === value || this.lastPop !== null && this.lastPop === value) {\n      return;\n    }\n\n    this.logger.cleanRedo();\n\n    if (isNotInput) {\n      // from setText API call, not a input\n      this.logger.push(value);\n      this.lastPop = null;\n      this.forceUpdate();\n      return;\n    }\n\n    if (this.timerId) {\n      window.clearTimeout(this.timerId);\n      this.timerId = 0;\n    }\n\n    this.timerId = window.setTimeout(function () {\n      if (_this2.logger.getLast() !== value) {\n        _this2.logger.push(value);\n\n        _this2.lastPop = null;\n\n        _this2.forceUpdate();\n      }\n\n      window.clearTimeout(_this2.timerId);\n      _this2.timerId = 0;\n    }, this.editorConfig.loggerInterval);\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this3 = this;\n\n    // \n    this.editor.on('change', this.handleChange); // \n\n    this.handleKeyboards.forEach(function (it) {\n      return _this3.editor.onKeyboard(it);\n    }); // logger\n\n    this.logger.initValue = this.editor.getMdValue();\n    this.forceUpdate();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var _this4 = this;\n\n    if (this.timerId) {\n      window.clearTimeout(this.timerId);\n    }\n\n    this.editor.off('change', this.handleChange);\n    this.editor.unregisterPluginApi('undo');\n    this.editor.unregisterPluginApi('redo');\n    this.handleKeyboards.forEach(function (it) {\n      return _this4.editor.offKeyboard(it);\n    });\n  };\n\n  _proto.pause = function pause() {\n    if (this.timerId) {\n      window.clearTimeout(this.timerId);\n      this.timerId = undefined;\n    }\n  };\n\n  _proto.render = function render() {\n    var hasUndo = this.logger.getUndoCount() > 1 || this.logger.initValue !== this.editor.getMdValue();\n    var hasRedo = this.logger.getRedoCount() > 0;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"button button-type-undo \" + (hasUndo ? '' : 'disabled'),\n      title: i18n.get('btnUndo'),\n      onClick: this.handleUndo\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"undo\"\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"button button-type-redo \" + (hasRedo ? '' : 'disabled'),\n      title: i18n.get('btnRedo'),\n      onClick: this.handleRedo\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"redo\"\n    })));\n  };\n\n  return Logger;\n}(PluginComponent);\n\nLogger.pluginName = 'logger';\nexport { Logger as default };","import _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\n\nvar TableList = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(TableList, _React$Component);\n\n  function TableList(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.config = {\n      padding: 3,\n      width: 20,\n      height: 20\n    };\n    var _props$maxRow = props.maxRow,\n        maxRow = _props$maxRow === void 0 ? 5 : _props$maxRow,\n        _props$maxCol = props.maxCol,\n        maxCol = _props$maxCol === void 0 ? 6 : _props$maxCol;\n    _this.state = {\n      maxRow: maxRow,\n      maxCol: maxCol,\n      list: _this.formatTableModel(maxRow, maxCol)\n    };\n    return _this;\n  }\n\n  var _proto = TableList.prototype;\n\n  _proto.formatTableModel = function formatTableModel(maxRow, maxCol) {\n    if (maxRow === void 0) {\n      maxRow = 0;\n    }\n\n    if (maxCol === void 0) {\n      maxCol = 0;\n    }\n\n    var result = new Array(maxRow).fill(undefined);\n    return result.map(function (_) {\n      return new Array(maxCol).fill(0);\n    });\n  };\n\n  _proto.calcWrapStyle = function calcWrapStyle() {\n    var _this$state = this.state,\n        maxRow = _this$state.maxRow,\n        maxCol = _this$state.maxCol;\n    var _this$config = this.config,\n        width = _this$config.width,\n        height = _this$config.height,\n        padding = _this$config.padding;\n    var wrapWidth = (width + padding) * maxCol - padding;\n    var wrapHeight = (height + padding) * maxRow - padding;\n    return {\n      width: wrapWidth + \"px\",\n      height: wrapHeight + \"px\"\n    };\n  };\n\n  _proto.calcItemStyle = function calcItemStyle(row, col) {\n    if (row === void 0) {\n      row = 0;\n    }\n\n    if (col === void 0) {\n      col = 0;\n    }\n\n    var _this$config2 = this.config,\n        width = _this$config2.width,\n        height = _this$config2.height,\n        padding = _this$config2.padding;\n    var top = (height + padding) * row;\n    var left = (width + padding) * col;\n    return {\n      top: top + \"px\",\n      left: left + \"px\"\n    };\n  };\n\n  _proto.getList = function getList(i, j) {\n    var list = this.state.list;\n    return list.map(function (v, row) {\n      return v.map(function (_, col) {\n        return row <= i && col <= j ? 1 : 0;\n      });\n    });\n  };\n\n  _proto.handleHover = function handleHover(i, j) {\n    this.setState({\n      list: this.getList(i, j)\n    });\n  };\n\n  _proto.handleSetTable = function handleSetTable(i, j) {\n    var onSetTable = this.props.onSetTable;\n\n    if (typeof onSetTable === 'function') {\n      onSetTable({\n        row: i + 1,\n        col: j + 1\n      });\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.props.visibility === false && prevProps.visibility !== this.props.visibility) {\n      this.setState({\n        list: this.getList(-1, -1)\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"table-list wrap\",\n      style: this.calcWrapStyle()\n    }, this.state.list.map(function (row, i) {\n      return row.map(function (col, j) {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          className: \"list-item \" + (col === 1 ? 'active' : ''),\n          key: i + \"-\" + j,\n          style: _this2.calcItemStyle(i, j),\n          onMouseOver: _this2.handleHover.bind(_this2, i, j),\n          onClick: _this2.handleSetTable.bind(_this2, i, j)\n        });\n      });\n    }));\n  };\n\n  return TableList;\n}(React.Component);\n\nexport default TableList;","import _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nimport DropList from '../../components/DropList';\nimport Icon from '../../components/Icon';\nimport i18n from '../../i18n';\nimport { PluginComponent } from '../Plugin';\nimport TableList from './table';\n\nvar Table = /*#__PURE__*/function (_PluginComponent) {\n  _inheritsLoose(Table, _PluginComponent);\n\n  function Table(props) {\n    var _this;\n\n    _this = _PluginComponent.call(this, props) || this;\n    _this.show = _this.show.bind(_assertThisInitialized(_this));\n    _this.hide = _this.hide.bind(_assertThisInitialized(_this));\n    _this.state = {\n      show: false\n    };\n    return _this;\n  }\n\n  var _proto = Table.prototype;\n\n  _proto.show = function show() {\n    this.setState({\n      show: true\n    });\n  };\n\n  _proto.hide = function hide() {\n    this.setState({\n      show: false\n    });\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var config = this.editorConfig.table || this.props.config;\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"button button-type-table\",\n      title: i18n.get('btnTable'),\n      onMouseEnter: this.show,\n      onMouseLeave: this.hide\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"grid\"\n    }), /*#__PURE__*/React.createElement(DropList, {\n      show: this.state.show,\n      onClose: this.hide\n    }, /*#__PURE__*/React.createElement(TableList, {\n      visibility: this.state.show,\n      maxRow: config.maxRow,\n      maxCol: config.maxCol,\n      onSetTable: function onSetTable(option) {\n        return _this2.editor.insertMarkdown('table', option);\n      }\n    })));\n  };\n\n  return Table;\n}(PluginComponent);\n\nTable.pluginName = 'table';\nTable.defaultConfig = {\n  maxRow: 6,\n  maxCol: 6\n};\nexport { Table as default };","import _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport i18n from '../../i18n';\n\nvar TabMapList = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(TabMapList, _React$Component);\n\n  function TabMapList() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = TabMapList.prototype;\n\n  _proto.handleSelectMapValue = function handleSelectMapValue(mapValue) {\n    var onSelectMapValue = this.props.onSelectMapValue;\n\n    if (typeof onSelectMapValue === 'function') {\n      onSelectMapValue(mapValue);\n    }\n  };\n\n  _proto.render = function render() {\n    var _this = this;\n\n    var value = this.props.value;\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"tab-map-list\"\n    }, [1, 2, 4, 8].map(function (it) {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: it,\n        className: classNames('list-item', {\n          active: value === it\n        })\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        onClick: _this.handleSelectMapValue.bind(_this, it)\n      }, it === 1 ? i18n.get('tab') : it + \" \" + i18n.get('spaces')));\n    }));\n  };\n\n  return TabMapList;\n}(React.Component);\n\nexport default TabMapList;","import _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\n\n/**\n * Since the Markdown Editor will lose input focus when user tpye a Tab key,\n * this is a built-in plugin to enable user to input Tab character.\n * see src/demo/index.tsx.\n */\nimport * as React from 'react';\nimport { PluginComponent } from '../Plugin';\nimport DropList from '../../components/DropList';\nimport i18n from '../../i18n';\nimport TabMapList from './TabMapList';\nimport Icon from '../../components/Icon';\n/**\n * @field tabMapValue:  Number of spaces will be inputted. Especially, note that 1 means a '\\t' instead of ' '.\n * @field show:         Whether to show TabMapList.\n */\n\nvar TabInsert = /*#__PURE__*/function (_PluginComponent) {\n  _inheritsLoose(TabInsert, _PluginComponent);\n\n  function TabInsert(props) {\n    var _this;\n\n    _this = _PluginComponent.call(this, props) || this;\n    _this.show = _this.show.bind(_assertThisInitialized(_this));\n    _this.hide = _this.hide.bind(_assertThisInitialized(_this));\n    _this.handleChangeMapValue = _this.handleChangeMapValue.bind(_assertThisInitialized(_this));\n    _this.state = {\n      tabMapValue: _this.getConfig('tabMapValue'),\n      show: false\n    };\n    _this.handleKeyboard = {\n      key: 'Tab',\n      keyCode: 9,\n      aliasCommand: true,\n      withKey: [],\n      callback: function callback() {\n        return _this.editor.insertMarkdown('tab', {\n          tabMapValue: _this.state.tabMapValue\n        });\n      }\n    };\n    return _this;\n  }\n\n  var _proto = TabInsert.prototype;\n\n  _proto.show = function show() {\n    this.setState({\n      show: true\n    });\n  };\n\n  _proto.hide = function hide() {\n    this.setState({\n      show: false\n    });\n  };\n\n  _proto.handleChangeMapValue = function handleChangeMapValue(mapValue) {\n    this.setState({\n      tabMapValue: mapValue\n    });\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.editorConfig.shortcuts) {\n      this.editor.onKeyboard(this.handleKeyboard);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.editor.offKeyboard(this.handleKeyboard);\n  };\n\n  _proto.render = function render() {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"button button-type-header\",\n      title: i18n.get('selectTabMap'),\n      onClick: this.show,\n      onMouseLeave: this.hide\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"tab\"\n    }), /*#__PURE__*/React.createElement(DropList, {\n      show: this.state.show,\n      onClose: this.hide\n    }, /*#__PURE__*/React.createElement(TabMapList, {\n      value: this.state.tabMapValue,\n      onSelectMapValue: this.handleChangeMapValue\n    })));\n  };\n\n  return TabInsert;\n}(PluginComponent);\n\nTabInsert.pluginName = 'tab-insert';\nTabInsert.defaultConfig = {\n  tabMapValue: 1\n};\nexport { TabInsert as default };","import Editor from './editor';\nimport AutoResize from './plugins/autoResize';\nimport BlockCodeBlock from './plugins/block/code-block';\nimport BlockCodeInline from './plugins/block/code-inline';\nimport BlockQuote from './plugins/block/quote';\nimport BlockWrap from './plugins/block/wrap';\nimport Clear from './plugins/clear';\nimport FontBold from './plugins/font/bold';\nimport FontItalic from './plugins/font/italic';\nimport FontStrikethrough from './plugins/font/strikethrough';\nimport FontUnderline from './plugins/font/underline';\nimport FullScreen from './plugins/fullScreen';\nimport Header from './plugins/header';\nimport Image from './plugins/Image';\nimport Link from './plugins/link';\nimport ListOrdered from './plugins/list/ordered';\nimport ListUnordered from './plugins/list/unordered';\nimport Logger from './plugins/logger';\nimport ModeToggle from './plugins/modeToggle';\nimport Table from './plugins/table';\nimport TabInsert from './plugins/tabInsert';\nimport { PluginComponent } from './plugins/Plugin';\nimport DropList from './components/DropList/index'; // \n\nEditor.use(Header);\nEditor.use(FontBold);\nEditor.use(FontItalic);\nEditor.use(FontUnderline);\nEditor.use(FontStrikethrough);\nEditor.use(ListUnordered);\nEditor.use(ListOrdered);\nEditor.use(BlockQuote);\nEditor.use(BlockWrap);\nEditor.use(BlockCodeInline);\nEditor.use(BlockCodeBlock);\nEditor.use(Table);\nEditor.use(Image);\nEditor.use(Link);\nEditor.use(Clear);\nEditor.use(Logger);\nEditor.use(ModeToggle);\nEditor.use(FullScreen); // \n// \n\nexport { DropList };\nexport { PluginComponent };\n// \nexport { default as getDecorated } from './utils/decorate'; // \n\nexport var Plugins = {\n  Header: Header,\n  FontBold: FontBold,\n  FontItalic: FontItalic,\n  FontUnderline: FontUnderline,\n  FontStrikethrough: FontStrikethrough,\n  ListUnordered: ListUnordered,\n  ListOrdered: ListOrdered,\n  BlockQuote: BlockQuote,\n  BlockWrap: BlockWrap,\n  BlockCodeInline: BlockCodeInline,\n  BlockCodeBlock: BlockCodeBlock,\n  Table: Table,\n  Image: Image,\n  Link: Link,\n  Clear: Clear,\n  Logger: Logger,\n  ModeToggle: ModeToggle,\n  FullScreen: FullScreen,\n  AutoResize: AutoResize,\n  TabInsert: TabInsert\n}; // \n\nexport default Editor;","var userToken = \"\";\n\nexport function configUserToken(newToken) {\n  userToken = \"Bear \" + newToken;\n}\n\nexport function getUserToken() {\n  return userToken ?? \"\";\n}\n","import { getUserToken } from \"../../utils/user\";\n\nexport async function createDraft(article, onGetID) {\n  const url = \"https://api.zymx.tech/draft/create\";\n  const resp = await fetchWithAuth(url, article);\n  const result = await resp.json();\n  console.log(result);\n  if (result.code === 0) {\n    onGetID(result.data.id);\n  }\n}\n\nexport async function updateDraft(article, onGetID) {\n  const url = \"https://api.zymx.tech/draft/update\";\n  const resp = await fetchWithAuth(url, article);\n  const result = await resp.json();\n  console.log(result);\n  if (result.code === 0) {\n    onGetID(result.data.id);\n  }\n}\n\nexport async function publishArticle(article, onGetArticleID) {\n  const url = \"https://api.zymx.tech/draft/publish\";\n  const resp = await fetchWithAuth(url, {\n    draft_id: article.id,\n    title: article.title,\n  });\n  const result = await resp.json();\n  console.log(result);\n  if (result.code === 0) {\n    onGetArticleID(result.data.article_id);\n  }\n}\n\nasync function fetchWithAuth(url, bodyJson) {\n  return await fetch(url, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: getUserToken(),\n    },\n    body: JSON.stringify(bodyJson),\n  });\n}\n","import React, { useCallback, useState } from \"react\";\n\nimport MarkdownIt from \"markdown-it\";\nimport MdEditor from \"react-markdown-editor-lite\";\n// import style manually\nimport \"react-markdown-editor-lite/lib/index.css\";\nimport { Button, Flex, message, Input, Modal } from \"antd\";\nimport { useEffect } from \"react\";\nimport { configUserToken, getUserToken } from \"../../utils/user\";\nimport { useNavigate } from \"react-router-dom\";\nimport { createDraft, updateDraft, publishArticle } from \"./repo\";\nconst mdParser = new MarkdownIt(/* Markdown-it options */);\n\nexport default function AIEditorPage() {\n  const [text, setText] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [openLogin, setOpenLogin] = useState(false);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [hasLoggedIn, setHasLoggedIn] = useState(getUserToken() !== \"\");\n  const [article, setArticle] = useState({});\n\n  const [messageApi, contextHolder] = message.useMessage();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (openLogin === false) {\n      setUsername(\"\");\n      setPassword(\"\");\n    }\n    const token = getUserToken();\n    setHasLoggedIn(token && token !== \"\");\n  }, [openLogin]);\n\n  useEffect(() => {\n    if (!hasLoggedIn) {\n      setOpenLogin(true);\n    }\n  }, [hasLoggedIn]);\n\n  const trySignIn = () => {\n    const formData = { username: username, password: password };\n    var encodedData = Object.keys(formData)\n      .map(function (key) {\n        return (\n          encodeURIComponent(key) + \"=\" + encodeURIComponent(formData[key])\n        );\n      })\n      .join(\"&\");\n    fetch(\"https://api.zymx.tech/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n      },\n      body: encodedData,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === 0) {\n          configUserToken(data.data.token);\n          setOpenLogin(false);\n          setHasLoggedIn(true);\n          messageApi.success(\"Signed in: \" + data.data.user.username);\n          // navigate(\"/ai-editor\");\n          return;\n        }\n        messageApi.error(\"Error: \" + data.message);\n      });\n  };\n\n  const handleEditorChange = useCallback(\n    ({ _, text: newText }) => {\n      article.content = newText;\n      setText(newText);\n      setArticle({ ...article });\n    },\n    [article]\n  );\n\n  async function onContinueWriting() {\n    const url = \"https://api.zymx.tech/gpt/continue-write\";\n    const decoder = new TextDecoder(\"utf-8\");\n    const textArr = [text];\n    const formData = { prev_text: text };\n    var encodedData = Object.keys(formData)\n      .map(function (key) {\n        return (\n          encodeURIComponent(key) + \"=\" + encodeURIComponent(formData[key])\n        );\n      })\n      .join(\"&\");\n    setIsLoading(true);\n    try {\n      fetch(url, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\n          Authorization: getUserToken(),\n        },\n        body: encodedData,\n      })\n        .then((response) => {\n          const reader = response.body.getReader();\n\n          return new ReadableStream({\n            start(controller) {\n              function push() {\n                reader.read().then(({ done, value }) => {\n                  if (done) {\n                    controller.close();\n                    return;\n                  }\n\n                  controller.enqueue(value);\n                  push();\n                });\n              }\n\n              push();\n            },\n          });\n        })\n        .then((stream) => {\n          const reader = stream.getReader();\n\n          function processStream({ done, value }) {\n            if (done) {\n              console.log(\"Stream complete\");\n              setIsLoading(false);\n              return;\n            }\n\n            // \n            const contentStr = decoder.decode(value);\n            console.log(\"Received:\", contentStr);\n            textArr.push(contentStr);\n\n            setText(textArr.join(\"\"));\n\n            // \n            reader.read().then(processStream);\n          }\n\n          reader.read().then(processStream);\n        })\n        .catch((error) => {\n          setIsLoading(false);\n          console.error(\"Error:\", error);\n        });\n    } catch (err) {\n      console.error(\"Error:\", err);\n    }\n  }\n\n  async function onSaveDraft() {\n    setIsLoading(true);\n    let isCreate = true;\n    if (article.id !== undefined) {\n      isCreate = false;\n    }\n\n    try {\n      if (isCreate) {\n        await createDraft(article, (id) => {\n          article.id = id;\n          setArticle({ ...article });\n        });\n      } else {\n        await updateDraft(article, (id) => {\n          article.id = id;\n          setArticle({ ...article });\n        });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n    setIsLoading(false);\n  }\n\n  async function onPublish() {\n    setIsLoading(true);\n    try {\n      await publishArticle(article, (articleId) => {\n        article.article_id = articleId;\n        setArticle({ ...article });\n      });\n    } catch (error) {\n      console.log(error);\n    }\n    setIsLoading(false);\n  }\n\n  return (\n    <Flex vertical className=\"w-full h-full p-4 min-h-screen\">\n      {contextHolder}\n      <Flex className=\"mb-4 justify-between\">\n        <Button\n          className=\"w-fit mr-4\"\n          onClick={onContinueWriting}\n          loading={isLoading}\n        >\n          Continue writing\n        </Button>\n        <Flex>\n          <Button\n            className=\"w-fit mr-4\"\n            onClick={onSaveDraft}\n            loading={isLoading}\n          >\n            Save Draft\n          </Button>\n          <Button className=\"w-fit\" onClick={onPublish} loading={isLoading}>\n            Publish\n          </Button>\n        </Flex>\n      </Flex>\n\n      <Flex className=\"mb-4\" vertical>\n        <label className=\"mr-4 mb-2 font-semibold\">Title: </label>\n        <Input\n          className=\"\"\n          onChange={(e) => {\n            article.title = e.target.value;\n          }}\n          onBlur={() => {\n            setArticle({ ...article });\n            console.log(article);\n          }}\n        ></Input>\n      </Flex>\n\n      <Flex className=\"mb-4\" vertical>\n        <label className=\"mr-4 mb-2 font-semibold\">Brief: </label>\n        <Input.TextArea\n          rows={4}\n          onChange={(e) => {\n            article.brief = e.target.value;\n          }}\n          onBlur={() => {\n            setArticle({ ...article });\n          }}\n        />\n      </Flex>\n\n      <label className=\"mr-4 mb-2 font-semibold\">Content: </label>\n      <MdEditor\n        style={{ minHeight: \"80vh\" }}\n        readOnly={isLoading}\n        value={text}\n        renderHTML={(text) => mdParser.render(text)}\n        onChange={handleEditorChange}\n      />\n      <Modal\n        centered\n        open={openLogin}\n        okText={\"Sign in\"}\n        onCancel={() => {\n          navigate(\"/\");\n          setOpenLogin(false);\n        }}\n        onOk={() => {\n          trySignIn();\n        }}\n      >\n        <Flex vertical className=\"space-y-4 pt-8\">\n          <Flex className=\"space-x-4\">\n            <p className=\"w-20\">Username</p>\n            <Input\n              value={username}\n              onChange={(value) => {\n                setUsername(value.target.value);\n              }}\n            />\n          </Flex>\n          <Flex className=\"space-x-4\">\n            <p className=\"w-20\">Password</p>\n            <Input\n              type=\"password\"\n              value={password}\n              onChange={(value) => {\n                setPassword(value.target.value);\n              }}\n            />\n          </Flex>\n        </Flex>\n      </Modal>\n    </Flex>\n  );\n}\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n"],"names":["getRandomValues","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","setPrototypeOf","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","uuid","REGEX","test","byteToHex","i","push","toString","substr","arr","offset","arguments","length","undefined","toLowerCase","validate","TypeError","options","buf","rnds","random","stringify","Icon","props","React","className","type","NavigationBar","visible","left","right","ToolBar","style","children","Emitter","_EventEmitter","_this","_len","args","Array","_key","call","apply","this","concat","EVENT_CHANGE","EVENT_FULL_SCREEN","EVENT_VIEW_CHANGE","EVENT_KEY_DOWN","EVENT_EDITOR_KEY_DOWN","EVENT_FOCUS","EVENT_BLUR","EVENT_SCROLL","EVENT_LANG_CHANGE","EventEmitter","globalEmitter","clearTip","btnHeader","btnClear","btnBold","btnItalic","btnUnderline","btnStrikethrough","btnUnordered","btnOrdered","btnQuote","btnLineBreak","btnInlineCode","btnCode","btnTable","btnImage","btnLink","btnUndo","btnRedo","btnFullScreen","btnExitFullScreen","btnModeEditor","btnModePreview","btnModeAll","selectTabMap","tab","spaces","I18n","langs","enUS","zhCN","current","setUp","_proto","window","locale","navigator","language","it","split","toUpperCase","browserLanguage","_it","isAvailable","emit","langName","add","lang","setCurrent","get","key","placeholders","str","keys","forEach","k","replace","RegExp","getCurrent","PluginComponent","_React$Component","getConfig","defaultValue","config","_createClass","editor","editorConfig","pluginName","align","defaultConfig","Divider","_PluginComponent","render","initialSelection","start","end","text","_createForOfIteratorHelperLoose","o","allowArrayLike","Symbol","iterator","next","isArray","minLen","_arrayLikeToArray","n","slice","name","from","_unsupportedIterableToArray","done","value","len","arr2","isPromise","obj","Promise","then","repeat","num","result","isKeyMatch","event","cond","withKey","keyCode","aliasCommand","e","ctrlKey","metaKey","altKey","shiftKey","_step","_iterator","getLineAndCol","pos","lines","beforeLines","line","col","curLine","prevLine","nextLine","beforeText","afterText","SIMPLE_DECORATOR","bold","italic","underline","strikethrough","quote","inlinecode","code","decorateTableText","option","_option$row","row","_option$col","rowHeader","rowData","rowDivision","colStr","_i","j","join","decorateList","target","trim","count","createTextDecorated","newBlock","selection","inputValue","tabMapValue","newSelectedText","lineBreakCount","includes","match","imageUrl","linkUrl","mergeObject","obj1","obj2","res","_extends","configs","conf","file","onImageUpload","placeholder","getDecorated","uploaded","resolve","isCallback","handleUploaded","url","console","warn","upload","theme","view","menu","md","html","canView","both","fullScreen","hideMenu","htmlClass","markdownClass","syncScrollMode","imageAccept","loggerMaxSize","loggerInterval","table","maxRow","maxCol","allowPasteImage","onCustomImageUpload","shortcuts","onChangeTrigger","HtmlRender","_Preview","_proto2","getHtml","el","innerHTML","ref","dangerouslySetInnerHTML","__html","Preview","getElement","getHeight","offsetHeight","Editor","nodeMdText","nodeMdPreview","nodeMdPreviewWrapper","hasContentChanged","composing","pluginApis","Map","scrollScale","isSyncingScroll","shouldSyncScroll","keyboardListeners","emitter","mergeConfig","state","plugins","getPlugins","handleChange","_assertThisInitialized","handlePaste","handleDrop","handleToggleMenu","handleKeyDown","handleEditorKeyDown","handleLocaleUpdate","handleFocus","handleBlur","handleInputScroll","handleSyncScroll","handlePreviewScroll","use","comp","splice","unuse","unuseAll","componentDidMount","renderHTML","on","i18n","componentWillUnmount","off","componentDidUpdate","prevProps","String","setState","isComposing","_this2","_step2","addToPlugins","DividerPlugin","_iterator2","_this3","onScroll","_this$config$syncScro","scrollHeight","requestAnimationFrame","scrollTop","markdownText","_this4","error","r","setHtml","_this5","setView","onFocus","onBlur","persist","setText","items","nativeEvent","clipboardData","preventDefault","uploadWithDataTransfer","dataTransfer","_this6","currentTarget","_text","curPos","selectionStart","lineInfo","emptyCurrentLine","newValue","addSymbol","symbol","insertText","isSymbol","isOrderList","parseInt","forceUpdate","getMdElement","getHtmlElement","clearSelection","setSelectionRange","getSelection","source","selectionEnd","setSelection","to","focus","insertMarkdown","curSelection","decorateOption","curLineStart","getMdValue","lastIndexOf","decorate","startLineInfo","insertPlaceholder","wait","_this7","replaceSelected","newSelection","beforeContent","afterContent","_this8","_this$config$onChange","onChange","getHtmlValue","setTimeout","rendering","onKeyboard","data","_this9","offKeyboard","_this10","index","indexOf","_step3","_iterator3","callback","getEventType","cb","eventType","_this11","newView","getView","enable","_this12","registerPluginApi","set","unregisterPluginApi","delete","callPluginApi","handler","others","isFullScreen","_this13","queue","kind","getAsFile","getUploadPlaceholder","getAsString","all","_this14","_this$state","_this$props","id","_this$props$className","_this$props$name","autoFocus","readOnly","showHideMenu","getPluginAt","at","isShowMenu","editorId","previewerId","onKeyDown","onDrop","title","onClick","wrap","onMouseOver","onCompositionStart","onCompositionEnd","onPaste","addLocale","useLocale","getLocale","AutoResize","timer","useTimer","doResize","resizeElement","height","Math","min","max","previewer","clearTimeout","Infinity","BlockCodeBlock","BlockCodeInline","BlockQuote","BlockWrap","Clear","handleClick","confirm","FontBold","handleKeyboard","FontItalic","FontStrikethrough","FontUnderline","FullScreen","DropList","handleClose","stopPropagation","onClose","show","HeaderList","handleHeader","header","onSelectHeader","Header","hide","onMouseEnter","onMouseLeave","InputFile","timerId","locked","input","click","accept","position","zIndex","top","width","opacity","Image","inputFile","onImageChanged","handleCustomImageUpload","handleImageUpload","files","Link","ListOrdered","ListUnordered","NEXT_ACTION","Logger","record","recycle","initValue","_props$maxSize","maxSize","val","shift","getLast","undo","skipText","pop","last","redo","history","cleanRedo","getUndoCount","getRedoCount","handleKeyboards","lastPop","handleRedo","handleUndo","logger","LoggerPlugin","pause","isNotInput","hasUndo","hasRedo","ModeToggle","SHOW_ALL","SHOW_HTML","SHOW_MD","getDisplayInfo","icon","isDisplay","display","filter","actions","TableList","padding","_props$maxRow","_props$maxCol","list","formatTableModel","fill","map","_","calcWrapStyle","_this$config","calcItemStyle","_this$config2","getList","v","handleHover","handleSetTable","onSetTable","visibility","Table","TabMapList","handleSelectMapValue","mapValue","onSelectMapValue","classNames","active","TabInsert","handleChangeMapValue","userToken","getUserToken","_userToken","createDraft","_x","_x2","_createDraft","_asyncToGenerator","_regeneratorRuntime","mark","_callee","article","onGetID","resp","_context","prev","fetchWithAuth","sent","json","log","stop","updateDraft","_x3","_x4","_updateDraft","_callee2","_context2","publishArticle","_x5","_x6","_publishArticle","_callee3","onGetArticleID","_context3","draft_id","article_id","_x7","_x8","_fetchWithAuth","_callee4","bodyJson","_context4","fetch","method","headers","Authorization","body","JSON","abrupt","mdParser","MarkdownIt","AIEditorPage","_useState","useState","_useState2","_slicedToArray","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","openLogin","setOpenLogin","_useState7","_useState8","username","setUsername","_useState9","_useState10","password","setPassword","_useState11","_useState12","hasLoggedIn","setHasLoggedIn","_useState13","_useState14","setArticle","_message$useMessage","message","useMessage","_message$useMessage2","messageApi","contextHolder","navigate","useNavigate","useEffect","token","trySignIn","formData","encodedData","encodeURIComponent","newToken","success","user","handleEditorChange","useCallback","_ref","newText","content","_objectSpread","_onContinueWriting","decoder","textArr","TextDecoder","prev_text","response","reader","getReader","ReadableStream","controller","read","_ref2","close","enqueue","stream","processStream","_ref3","contentStr","decode","catch","err","_onSaveDraft","isCreate","t0","_onPublish","articleId","_jsxs","Flex","vertical","_jsx","Button","loading","Input","TextArea","rows","brief","MdEditor","minHeight","Modal","centered","open","okText","onCancel","onOk","has","hasOwnProperty","prefix","Events","EE","fn","context","once","addListener","listener","evt","_events","_eventsCount","clearEvent","__proto__","eventNames","events","names","getOwnPropertySymbols","listeners","handlers","l","ee","listenerCount","a1","a2","a3","a4","a5","removeListener","removeAllListeners","prefixed","module","exports"],"sourceRoot":""}