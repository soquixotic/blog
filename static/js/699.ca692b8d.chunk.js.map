{"version":3,"file":"static/js/699.ca692b8d.chunk.js","mappings":"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","sources":["pages/cash-track/repo.js","pages/cash-track/component/account_modal.js","pages/cash-track/component/family_modal.js","pages/cash-track/component/account-card/index.js","pages/cash-track/index.js"],"sourcesContent":["import { getUserToken } from \"../../utils/user\";\n\nexport const CurrencyMap = {\n  1: \"CNY\",\n  2: \"HKD\",\n  3: \"USD\",\n};\nexport const CurrencySymbol = {\n  1: \"ï¿¥\",\n  2: \"HK$\",\n  3: \"$\",\n};\n\nexport async function fetchFamilyAccounts() {\n  const result = await getWithAuth(\"https://api.zymx.tech/family/accounts\");\n  return await result.json();\n}\n\nexport async function createAccount(account) {\n  const result = await postWithAuth(\n    \"https://api.zymx.tech/account/create\",\n    account\n  );\n  return await result.json();\n}\n\nexport async function updateAccount(account) {\n  const result = await postWithAuth(\n    \"https://api.zymx.tech/account/update\",\n    account\n  );\n  return await result.json();\n}\n\nexport async function createFamily(family) {\n  const result = await postWithAuth(\n    \"https://api.zymx.tech/family/create\",\n    family\n  );\n  return await result.json();\n}\n\nasync function getWithAuth(url) {\n  return await fetch(url, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: getUserToken(),\n    },\n  });\n}\n\nasync function postWithAuth(url, bodyJson) {\n  var encodedData = Object.keys(bodyJson)\n    .map(function (key) {\n      return encodeURIComponent(key) + \"=\" + encodeURIComponent(bodyJson[key]);\n    })\n    .join(\"&\");\n  return await fetch(url, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n      Authorization: getUserToken(),\n    },\n    body: encodedData,\n  });\n}\n","import { Modal } from \"antd\";\nimport { Select } from \"antd\";\nimport { InputNumber } from \"antd\";\nimport { Input } from \"antd\";\nimport { Button, message } from \"antd\";\nimport { useEffect, useState } from \"react\";\nimport { CurrencyMap, createAccount, updateAccount } from \"../repo\";\n\nexport function AccountModal({ onAccountCreated, account }) {\n  const [open, setOpen] = useState(false);\n  const accountId = account?.id ?? 0;\n  const [accountName, setAccountName] = useState(account?.name ?? \"\");\n  const [balance, setBalance] = useState(account?.balance ?? 0);\n  const [currency, setCurrency] = useState(account?.currency ?? 1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [messageApi, contextHolder] = message.useMessage();\n\n  useEffect(() => {\n    if (open) {\n      setAccountName(account?.name ?? \"\");\n      setBalance(account?.balance ?? 0);\n      setCurrency(account?.currency ?? 1);\n      setIsLoading(false);\n    }\n  }, [account?.balance, account?.currency, account?.name, open]);\n\n  const changeAccount = async () => {\n    if (accountId === 0) {\n      return await createAccount({\n        name: accountName,\n        balance: balance,\n        currency: currency,\n      });\n    } else {\n      return await updateAccount({\n        id: accountId,\n        name: accountName,\n        balance: balance,\n      });\n    }\n  };\n\n  const onCreateAccount = () => {\n    console.log(accountName, balance, currency);\n    setIsLoading(true);\n\n    changeAccount()\n      .then((resp) => {\n        if (resp.code === 0) {\n          setOpen(false);\n          onAccountCreated?.(resp.data.account);\n          messageApi.success(\"done!\");\n          return;\n        }\n        messageApi.error(\"Failed to change account.\");\n      })\n      .catch((err) => {\n        setIsLoading(false);\n        messageApi.error(\"Failed to change account.\");\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n  return (\n    <div>\n      {contextHolder}\n      <Button\n        type=\"link\"\n        onClick={() => {\n          setOpen(true);\n        }}\n      >\n        {accountId === 0 ? \"Add\" : \"Edit\"}\n      </Button>\n      <Modal\n        title={accountId === 0 ? \"Create Account\" : \"Update Account\"}\n        open={open}\n        onCancel={() => setOpen(false)}\n        onOk={onCreateAccount}\n        confirmLoading={isLoading}\n      >\n        <div className=\"flex flex-col mt-5 space-y-2\">\n          <div className=\"flex justify-between items-center\">\n            <label className=\"w-48\">Account name: </label>\n            <Input\n              value={accountName}\n              placeholder=\"eg: Cash, Bank, Alipay, Wechat Pay, etc.\"\n              onChange={(e) => {\n                setAccountName(e.target.value);\n              }}\n            />\n          </div>\n          <div className=\"flex justify-between items-center\">\n            <label className=\"w-48\">Balance: </label>\n            <InputNumber\n              className=\"w-full\"\n              value={balance}\n              onChange={(value) => setBalance(value)}\n            />\n          </div>\n          <div className=\"flex justify-between items-center\">\n            <label className=\"w-48\">Currency: </label>\n            <Select\n              disabled={accountId !== 0}\n              className=\"w-full\"\n              value={currency}\n              onChange={(value) => setCurrency(value)}\n              options={[{ value: 1, label: CurrencyMap[1] }]}\n            />\n          </div>\n        </div>\n      </Modal>\n    </div>\n  );\n}\n","import { Button, Modal, Input, message } from \"antd\";\nimport { useState } from \"react\";\nimport { createFamily } from \"../repo\";\n\nexport function FamilyModal() {\n  const [open, setOpen] = useState(false);\n  const [familyName, setFamilyName] = useState(\"\");\n  const [messageApi, contextHolder] = message.useMessage();\n  const [isLoading, setIsLoading] = useState(false);\n\n  const onCreateFamily = () => {\n    createFamily({\n      name: familyName,\n    })\n      .then(() => {\n        messageApi.success(\"Family created\");\n        setOpen(false);\n      })\n      .catch((err) => {\n        messageApi.error(\"Failed to create family\");\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n  return (\n    <div>\n      {contextHolder}\n      <Button onClick={() => setOpen(true)}>Create Family</Button>\n      <Modal\n        open={open}\n        onCancel={() => {\n          setOpen(false);\n        }}\n        onOk={onCreateFamily}\n        confirmLoading={isLoading}\n      >\n        <div className=\"flex justify-between items-center mt-5\">\n          <label className=\"w-48\">Family name: </label>\n          <Input\n            value={familyName}\n            onChange={(e) => {\n              setFamilyName(e.target.value);\n            }}\n          />\n        </div>\n      </Modal>\n    </div>\n  );\n}\n","import { CurrencySymbol } from \"../../repo\";\nimport { AccountModal } from \"../account_modal\";\n\nexport function AccountCard({ account, onAccountUpdated }) {\n  return (\n    <div\n      className={`flex flex-col w-28 h-28 bg-${\n        account.balance >= 0 ? \"blue\" : \"red\"\n      }-200 bg-opacity-80 rounded-lg p-2 justify-center space-y-2`}\n    >\n      <div className=\"font-bold text-base line-clamp-1\">{account.name}</div>\n      <div className=\"line-clamp-1\">\n        {CurrencySymbol[account.currency]}\n        {account.balance}\n      </div>\n      <div className=\"w-full flex items-center justify-center\">\n        <AccountModal\n          account={account}\n          onAccountCreated={() => {\n            onAccountUpdated();\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { fetchFamilyAccounts } from \"./repo\";\nimport { AccountModal } from \"./component/account_modal\";\nimport { FamilyModal } from \"./component/family_modal\";\nimport { getUserInfo } from \"../../utils/user\";\nimport { AccountCard } from \"./component/account-card\";\n\nexport default function CashTrackPage() {\n  const [accounts, setAccounts] = useState([]);\n\n  const userInfo = getUserInfo();\n\n  const updateFamilyAccounts = () => {\n    fetchFamilyAccounts()\n      .then((res) => {\n        if (res.code === 0) {\n          setAccounts(res.data);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  useEffect(() => {\n    updateFamilyAccounts();\n  }, []);\n\n  const totalBalance =\n    accounts?.reduce((total, account) => total + account.balance, 0) ?? 0;\n\n  return (\n    <div className=\"w-full h-full flex flex-col p-4\">\n      <div className=\"w-full h-24 rounded-lg bg-blue-300 bg-opacity-80 flex items-center justify-between p-4 mb-4\">\n        <div className=\"text-2xl\">Total CNY {totalBalance}</div>\n        <div className=\"flex flex-col space-y-2\">\n          {userInfo.family_id === 0 && <FamilyModal />}\n        </div>\n      </div>\n      <div className=\"font-bold mb-1 text-lg\">Accounts</div>\n      <div className=\"overflow-x-auto h-48 bg-white bg-opacity-80 rounded-lg  mb-4\">\n        <div className=\"w-fit p-2 flex space-x-2\">\n          <div className=\"flex flex-col w-28 h-28 bg-blue-100 bg-opacity-80 rounded-lg p-2 items-center justify-center space-y-2\">\n            <AccountModal\n              onAccountCreated={(_) => {\n                updateFamilyAccounts();\n              }}\n            />\n          </div>\n          {accounts.map((item) => (\n            <AccountCard\n              account={item}\n              onAccountUpdated={() => updateFamilyAccounts()}\n            />\n          ))}\n        </div>\n      </div>\n      <div className=\"font-bold mb-1 text-lg\">Records</div>\n      <div className=\"w-full h-full rounded-lg bg-white bg-opacity-80\">\n        records\n      </div>\n    </div>\n  );\n}\n"],"names":["CurrencyMap","CurrencySymbol","_fetchFamilyAccounts","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_context","prev","next","getWithAuth","sent","json","abrupt","stop","apply","arguments","createAccount","_x","_createAccount","_callee2","account","_context2","postWithAuth","updateAccount","_x2","_updateAccount","_callee3","_context3","_createFamily","_callee4","family","_context4","_x4","_getWithAuth","_callee5","url","_context5","fetch","method","headers","Authorization","getUserToken","_x5","_x6","_postWithAuth","_callee6","bodyJson","encodedData","_context6","Object","keys","map","key","encodeURIComponent","join","body","AccountModal","_ref","_account$id","_account$name","_account$balance","_account$currency","onAccountCreated","_useState","useState","_useState2","_slicedToArray","open","setOpen","accountId","id","_useState3","name","_useState4","accountName","setAccountName","_useState5","balance","_useState6","setBalance","_useState7","currency","_useState8","setCurrency","_useState9","_useState10","isLoading","setIsLoading","_message$useMessage","message","useMessage","_message$useMessage2","messageApi","contextHolder","useEffect","_account$name2","_account$balance2","_account$currency2","changeAccount","_ref2","_jsxs","children","_jsx","Button","type","onClick","Modal","title","onCancel","onOk","console","log","then","resp","code","data","success","error","catch","err","finally","confirmLoading","className","Input","value","placeholder","onChange","e","target","InputNumber","Select","disabled","options","label","FamilyModal","familyName","setFamilyName","_x3","createFamily","AccountCard","onAccountUpdated","concat","CashTrackPage","_accounts$reduce","accounts","setAccounts","userInfo","getUserInfo","updateFamilyAccounts","fetchFamilyAccounts","res","totalBalance","reduce","total","family_id","_","item"],"sourceRoot":""}